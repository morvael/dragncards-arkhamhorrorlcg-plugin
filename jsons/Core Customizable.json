{
    "actionLists": {
        "selectTaboo": [
            ["PROMPT", "$PLAYER_N", "selectTabooPrompt"]
        ]
    },
    "functions": {
        "IS_CUSTOMIZABLE": {
            "args": ["$DATABASE_ID"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$DATABASE_ID", "IS_CUSTOMIZABLE.DATABASE_ID"],
                ["OR",
                    ["EQUAL", "$DATABASE_ID", "09021"], //Hunter's Armor
                    ["EQUAL", "$DATABASE_ID", "09022"], //Runic Axe
                    ["EQUAL", "$DATABASE_ID", "09023"], //Custom Modifications
                    ["EQUAL", "$DATABASE_ID", "09040"], //Alchemical Distillation
                    ["EQUAL", "$DATABASE_ID", "09041"], //Empirical Hypothesis
                    ["EQUAL", "$DATABASE_ID", "09042"], //The Raven Quill
                    ["EQUAL", "$DATABASE_ID", "09059"], //Damning Testimony
                    ["EQUAL", "$DATABASE_ID", "09060"], //Friends in Low Places
                    ["EQUAL", "$DATABASE_ID", "09061"], //Honed Instinct
                    ["EQUAL", "$DATABASE_ID", "09079"], //Living Ink
                    ["EQUAL", "$DATABASE_ID", "09080"], //Summoned Servitor
                    ["EQUAL", "$DATABASE_ID", "09081"], //Power Word
                    ["EQUAL", "$DATABASE_ID", "09099"], //Pocket Multi Tool
                    ["EQUAL", "$DATABASE_ID", "09100"], //Makeshift Trap
                    ["EQUAL", "$DATABASE_ID", "09101"], //Grizzled
                    ["EQUAL", "$DATABASE_ID", "09119"]  //Hyperphysical Shotcaster: Theoretical Device
                ]
            ]
        },
        "DO_SPAWN_CUSTOMIZABLE": {
            "args": ["$TARGET_CARD_ID", "$TARGET_PLAYER"],
            "code": [
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_SPAWN_CUSTOMIZABLE.TARGET_CARD_ID"]],
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_SPAWN_CUSTOMIZABLE.TARGET_PLAYER"],
                ["VAR", "$DATABASE_ID", "$TARGET_CARD.sides.A.databaseId"],
                ["VAR", "$TABOO_ID", ["GET_TABOO_VALUE", "$TARGET_PLAYER"]],
                ["VAR", "$UPGRADE_0", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "0", 0], 0]]],
                ["VAR", "$UPGRADE_1", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "1", 0], 0]]],
                ["VAR", "$UPGRADE_2", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "2", 0], 0]]],
                ["VAR", "$UPGRADE_3", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "3", 0], 0]]],
                ["VAR", "$UPGRADE_4", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "4", 0], 0]]],
                ["VAR", "$UPGRADE_5", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "5", 0], 0]]],
                ["VAR", "$UPGRADE_6", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "6", 0], 0]]],
                ["VAR", "$UPGRADE_7", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "7", 0], 0]]],
                ["VAR", "$UPGRADE_8", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "8", 0], 0]]],
                ["VAR", "$UPGRADE_0_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "0", 1], ""]],
                ["VAR", "$UPGRADE_1_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "1", 1], ""]],
                ["VAR", "$UPGRADE_2_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "2", 1], ""]],
                ["VAR", "$UPGRADE_3_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "3", 1], ""]],
                ["VAR", "$UPGRADE_4_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "4", 1], ""]],
                ["VAR", "$UPGRADE_5_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "5", 1], ""]],
                ["VAR", "$UPGRADE_6_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "6", 1], ""]],
                ["VAR", "$UPGRADE_7_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "7", 1], ""]],
                ["VAR", "$UPGRADE_8_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "8", 1], ""]],
                ["VAR", "$NEW_XP", ["CALCULATE_UPGRADE_XP", "$UPGRADE_0", "$UPGRADE_1", "$UPGRADE_2", "$UPGRADE_3", "$UPGRADE_4", "$UPGRADE_5", "$UPGRADE_6", "$UPGRADE_7", "$UPGRADE_8"]],
                ["VAR", "$NEW_TEXT", "$TARGET_CARD.sides.A.text"],
                ["VAR", "$UPGRADES", ""],
                ["COND",
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09021"], //Hunter's Armor
                    [
                        //0 - [1] Enchanted. Hunter's Armor gains the [[Relic]] trait and takes up an arcane slot instead of a body slot.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "traits", "Item. Armor.", "Item. Armor. Relic.", "$UPGRADE_0", 1],
                        //1 - [2] Protective Runes. Hunter's Armor may be assigned damage and/or horror dealt to other investigators at your location.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_1", 2, "  Hunter's Armor may be assigned damage and/or horror dealt to other investigators at your location."]],
                        //2 - [2] Durable. Hunter's Armor gains +2 health.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "health", 2, 4, "$UPGRADE_2", 2],
                        //3 - [2] Hallowed. Hunter's Armor gains +2 sanity.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "sanity", 2, 4, "$UPGRADE_3", 2],
                        //4 - [2] Lightweight. Hunter's Armor gets -1 cost and playing it does not provoke attacks of opportunity.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "cost", 4, 3, "$UPGRADE_4", 2],
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 2, "  Playing Hunter's Armor does not provoke attacks of opportunity."]],
                        //5 - [3] Hexdrinker. After 1 or more damage or horror is assigned to Hunter's Armor from a treachery effect, you may exhaust it to draw 1 card.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 3, "  After 1 or more damage or horror is assigned to Hunter's Armor from a treachery effect, you may exhaust it to draw 1 card."]],
                        //6 - [3] Armor of Thorns. After 1 or more damage or horror is assigned to Hunter's Armor from an enemy attack, you may exhaust it to deal 1 damage to that enemy.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_6", 3, "  After 1 or more damage or horror is assigned to Hunter's Armor from an enemy attack, you may exhaust it to deal 1 damage to that enemy."]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable.{0}", ["LIST", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09022"], //Runic Axe
                    [
                        //0 - [1] Heirloom. This asset gets -1 cost and gains the [[Relic]] trait.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "cost", 4, 3, "$UPGRADE_0", 1],
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "traits", "Item. Weapon. Melee.", "Item. Weapon. Melee. Relic.", "$UPGRADE_0", 1],
                        //1 - [1] Inscription of Glory. Add this inscription: "- Glory - If this attack defeats an enemy, choose one: draw 1 card, heal 1 damage, or heal 1 horror."
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_1", 1, "  - <i>Glory</i> - If this attack defeats an enemy, choose one: draw 1 card, heal 1 damage, or heal 1 horror."]],
                        //2 - [1]  Inscription of the Elders. Add this inscription: "- Elders - If this attack succeeds by an amount equal to or greater than your location's shroud, discover 1 clue at your location."
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_2", 1, "  - <i>Elders</i> - If this attack succeeds by an amount equal to or greater than your location's shroud, discover 1 clue at your location."]],
                        //3 - [2] ([1] before taboo 6) Inscription of the Hunt. Add this inscription: "- Hunt - Immediately move to a connecting location or engage an enemy at your location."
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_3", ["INLINE_IF", ["GREATER_EQUAL", "$TABOO_ID", 6], 2, 1], "  - <i>Hunt</i> - Immediately move to a connecting location or engage an enemy at your location."]],
                        //4 - [1] Inscription of Fury. Add this inscription: "- Fury - If this attack is successful, in addition to its standard damage, deal 1 damage to each other enemy engaged with you."
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 1, "  - <i>Fury</i> - If this attack is successful, in addition to its standard damage, deal 1 damage to each other enemy engaged with you."]],
                        //5 - [3] Ancient Power. You may imbue the same inscription up to three times.
                        ["VAR", "$ANCIENT_POWER", ["PICK_UPGRADE", "", "  You may imbue the same inscription up to three times.", "$UPGRADE_5", 3]],
                        //6 - [3] Saga. Replenish 2 of Runic Axe's charges at the start of each round, instead of only 1.
                        ["VAR", "$SAGA", ["PICK_UPGRADE", 1, 2, "$UPGRADE_6", 3]],
                        //7 - [4] Scriptweaver. For every charge spent, you may imbue the axe with up to two different inscriptions.
                        ["VAR", "$SCRIPTWEAVER", ["PICK_UPGRADE", "that many different inscriptions", "twice as many different inscriptions", "$UPGRADE_7", 4]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. Uses (4 charges). Replenish {0} of these charges at the start of each round.  [action]: <b>Fight.</b> You get +1 [combat] for this attack. Before this attack, you may spend any number of charges to imbue the axe with {1} -{2}  - <i>Accuracy</i> - You get an additional +2 [combat] for this attack.  - <i>Power</i> - This attack deals +1 damage.{3}", ["LIST", "$SAGA", "$SCRIPTWEAVER", "$ANCIENT_POWER", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09023"], //Custom Modifications
                    [
                        //0 - [1] Notched Sight. If you perform an attack with attached asset against an enemy engaged with another investigator and fail, you deal no damage.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_0", 1, "  If you perform an attack with attached asset against an enemy engaged with another investigator and fail, you deal no damage."]],
                        //1 - [2] Extended Stock. You get +2 [combat] while attacking with attached asset.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_1", 2, "  You get +2 [combat] while attacking with attached asset."]],
                        //2 - [2] Counterbalance. After you attach an [[Upgrade]] card other than Custom Modifications to attached asset, draw 1 card.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_2", 2, "  After you attach an [[Upgrade]] card other than Custom Modifications to attached asset, draw 1 card."]],
                        //3 - [3] Leather Grip. Custom Modifications gets -1 cost and gains: "Fast. Play only during your turn."
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "cost", 3, 2, "$UPGRADE_3", 3],
                        ["VAR", "$LEATHER_GRIP", ["PICK_UPGRADE", "", " Fast. Play only during your turn.", "$UPGRADE_3", 3]],
                        //4 - [3] Extended Magazine. After ammo is spent from or placed on attached asset by another event, place 1 ammo on attached asset.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 3, "  After ammo is spent from or placed on attached asset by another event, place 1 ammo on attached asset."]],
                        //5 - [4] Quicksilver Bullets. If you succeed by 3 or more while attacking with attached asset, this attack deals +1 damage.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 4, "  If you succeed by 3 or more while attacking with attached asset, this attack deals +1 damage."]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable.{0}  Attach to a [[Firearm]] asset you control. Limit 1 per asset.  [reaction] When you reveal a non-[auto_fail] chaos token attacking with attached asset, exhaust Custom Modifications: Cancel that chaos token, return it to the chaos bag, and reveal a new one.{1}", ["LIST", "$LEATHER_GRIP", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09040"], //Alchemical Distillation
                    [
                        //tmp variables
                        ["VAR", "$OPTIONS", ""],
                        //0 - [1] Mending Distillate. Add this option: "- Heal 2 damage."
                        ["UPDATE_VAR", "$OPTIONS", ["ADD_UPGRADE", "$OPTIONS", "$UPGRADE_0", 1, "  - Heal 2 damage."]],
                        //1 - [1] Calming Distillate. Add this option: "- Heal 2 horror."
                        ["UPDATE_VAR", "$OPTIONS", ["ADD_UPGRADE", "$OPTIONS", "$UPGRADE_1", 1, "  - Heal 2 horror."]],
                        //2 - [1] Enlightening Distillate. Add this option: "- Place 1 charge or secret on an asset you control."
                        ["UPDATE_VAR", "$OPTIONS", ["ADD_UPGRADE", "$OPTIONS", "$UPGRADE_2", 1, "  - Place 1 charge or secret on an asset you control."]],
                        //3 - [1] Quickening Distillate. Add this option: "- Move up to 2 times."
                        ["UPDATE_VAR", "$OPTIONS", ["ADD_UPGRADE", "$OPTIONS", "$UPGRADE_3", 1, "  - Move up to 2 times."]],
                        //4 - [2] Refined. Alchemical Distillation enters play with 2 additional supplies on it.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "uses", 3, 5, "$UPGRADE_4", 2],
                        ["VAR", "$REFINED", ["PICK_UPGRADE", 3, 5, "$UPGRADE_4", 2]],
                        //5 - [4] Empowered. When you initiate this skill test, you may increase its difficulty by 2. If you do, increase the value of the effect granted by each option by 1 for this test.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 4, "  When you initiate this skill test, you may increase its difficulty by 2. If you do, increase the value of the effect granted by each option by 1 for this test."]],
                        //6 - [5] Perfected. If you succeed by 2 or more, the chosen investigator may perform two different options instead of one.
                        ["VAR", "$PERFECTED", ["PICK_UPGRADE", "", " (2 options instead if you succeed by 2 or more)", "$UPGRADE_6", 5]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. Uses ({0} supplies).  [action] Spend 1 supply: Choose an investigator at your location and test [intellect] (1). If you succeed, that investigator performs one of the following options{1} -{2}  - Draw 2 cards.  - Gain 2 resources.{3}", ["LIST", "$REFINED", "$PERFECTED", "$UPGRADES", "$OPTIONS"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09041"], //Empirical Hypothesis
                    [
                        //tmp variables
                        ["VAR", "$CRITERIA", ""],
                        //0 - [1] Pessimistic Outlook. Add the following criteria: "- You run out of cards in your hand."
                        ["UPDATE_VAR", "$CRITERIA", ["ADD_UPGRADE", "$CRITERIA", "$UPGRADE_0", 1, "  - You run out of cards in your hand."]],
                        //1 - [1] Trial and Error. Add the following criteria: "- You are dealt damage or horror."
                        ["UPDATE_VAR", "$CRITERIA", ["ADD_UPGRADE", "$CRITERIA", "$UPGRADE_1", 1, "  - You are dealt damage or horror."]],
                        //2 - [1] Independent Variable. Add the following criteria: "- You discard a treachery or enemy from play."
                        ["UPDATE_VAR", "$CRITERIA", ["ADD_UPGRADE", "$CRITERIA", "$UPGRADE_2", 1, "  - You discard a treachery or enemy from play."]],
                        //3 - [1] Field Research. Add the following criteria: "- You enter a location with 3 or more shroud."
                        ["UPDATE_VAR", "$CRITERIA", ["ADD_UPGRADE", "$CRITERIA", "$UPGRADE_3", 1, "  - You enter a location with 3 or more shroud."]],
                        //4 - [2] Peer Review. The chosen criteria is met if any investigator at your location meets it, instead of only you. Other investigators at your location may trigger [fast] abilities on Empirical Hypothesis.
                        ["VAR", "$PEER_REVIEW", ["PICK_UPGRADE", "When the chosen criteria is met, you may exhaust Empirical Hypothesis to add 1 evidence to it.", "When the chosen criteria is met by any investigator at your location, you may exhaust Empirical Hypothesis to add 1 evidence to it. Other investigators at your location may trigger [fast] abilities on Empirical Hypothesis.", "$UPGRADE_4", 2]],
                        //5 - [2] Research Grant. Empirical Hypothesis gains: "[fast] Spend 2 evidence: Reduce the cost of the next card you play by 3."
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 2, "  [fast] Spend 2 evidence: Reduce the cost of the next card you play by 3."]],
                        //6 - [3] Irrefutable Proof. Empirical Hypothesis gains: "[fast] Spend 3 evidence: Discover 1 clue at your location."
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_6", 3, "  [fast] Spend 3 evidence: Discover 1 clue at your location."]],
                        //7 - [4] Alternative Hypothesis. After you exhaust Empirical Hypothesis, you may resolve its forced effect, choosing a criteria you have not chosen this round. Then, ready it.
                        ["VAR", "$ALTERNATIVE_HYPOTHESIS", ["PICK_UPGRADE", "", "  After you exhaust Empirical Hypothesis, you may resolve its forced effect, choosing a criteria you have not chosen this round. Then, ready it.", "$UPGRADE_7", 4]],
                        //update text
                        ["COND",
                            ["GREATER_EQUAL", "$TABOO_ID", 8],
                            ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Mutated. Customizable. Limit 1 per investigator.  <b>Forced</b> - At the start of the round: Choose one of the following criteria for this round  - You fail a test by 2 or more.  - You succeed at a test by 3 or more.{0}  {1}{2}  [fast] Spend 1 evidence: Draw 1 card. (Limit twice per round.){3}", ["LIST", "$CRITERIA", "$PEER_REVIEW", "$ALTERNATIVE_HYPOTHESIS", "$UPGRADES"]]],
                            ["TRUE"],
                            ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. Limit 1 per investigator.  <b>Forced</b> - At the start of the round: Choose one of the following criteria for this round  - You fail a test by 2 or more.  - You succeed at a test by 3 or more.{0}  {1}{2}  [fast] Spend 1 evidence: Draw 1 card.{3}", ["LIST", "$CRITERIA", "$PEER_REVIEW", "$ALTERNATIVE_HYPOTHESIS", "$UPGRADES"]]]
                        ]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09042"], //The Raven Quill
                    [
                        //tmp variables
                        ["VAR", "$ASSETS", ""],
                        //0 - [0] Named [[Tome]] or [[Spell]] asset: _____.
                        ["UPDATE_VAR", "$ASSETS", ["ADD_UPGRADE", "$ASSETS", "$UPGRADE_0", 0, ["DO_FORMAT_STRING", "Tome or Spell assets named: {0}", ["LIST", ["GET_VALID_RAVEN_QUILL_CARD_NAME", "$UPGRADE_0_EXT"]]]]],
                        //1 - [1] Living Quill. Using attached asset's [action] abilities does not provoke attacks of opportunity.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_1", 1, "  Using attached asset's [action] abilities does not provoke attacks of opportunity."]],
                        //2 - [1] Spectral Binding. Attached asset does not take up any slots.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_2", 1, "  Attached asset does not take up any slots."]],
                        //3 - [2] Mystic Vane. You get +2 skill value while performing skill tests on attached asset.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_3", 2, "  You get +2 skill value while performing skill tests on attached asset."]],
                        //4 - [2] Endless Inkwell. Name two more [[Tome]] or [[Spell]] assets: _____, _____.
                        ["VAR", "$UPGRADE_4_EXT_LIST", ["SPLIT_STRING", "{{$UPGRADE_4_EXT}}^ ^ ", "^"]],
                        ["UPDATE_VAR", "$ASSETS", ["ADD_UPGRADE", "$ASSETS", "$UPGRADE_4", 2, ["DO_FORMAT_STRING", ", {0}, {1}", ["LIST", ["GET_VALID_RAVEN_QUILL_CARD_NAME", "$UPGRADE_4_EXT_LIST.[0]"], ["GET_VALID_RAVEN_QUILL_CARD_NAME", "$UPGRADE_4_EXT_LIST.[1]"]]]]],
                        //5 - [2] Energy Sap. The Raven Quill gains: "[fast] Exhaust The Raven Quill: Move 1 secret or charge from an asset you control to attached asset."
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "free", 0, 1, "$UPGRADE_5", 2],
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 2, "  [fast] Exhaust The Raven Quill: Move 1 secret or charge from an asset you control to attached asset."]],
                        //6 - [3] Interwoven Ink. After you resolve an [action] ability on attached asset, you may exhaust The Raven Quill to ready another asset you control.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_6", 3, "  After you resolve an [action] ability on attached asset, you may exhaust The Raven Quill to ready another asset you control."]],
                        //7 - [4] Supernatural Record. When you play The Raven Quill, instead of attaching it to a named asset you control, you may search your deck, discard pile, and hand for a copy of a named asset and play it <i>(paying its cost)</i>. Then, attach The Raven Quill to it.
                        ["VAR", "$SUPERNATURAL_RECORD", ["PICK_UPGRADE", "", ", or you may search your deck, discard pile, and hand for a copy of a named asset and play it <i>(paying its cost)</i>. Then, attach The Raven Quill to it", "$UPGRADE_7", 4]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. {0}.  Attach to a named asset you control{1}.  [reaction] When you resign or the game ends: Either mark a checkbox on The Raven Quill's upgrade sheet, or reduce the experience cost to upgrade the attached asset before the next scenario by 1.{2}", ["LIST", "$ASSETS", "$SUPERNATURAL_RECORD", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09059"], //Damning Testimony
                    [
                        //0 - [1] Search Warrant. While investigating using Damning Testimony, you may ignore any effect or keyword on the investigated location that would trigger.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_0", 1, "  While investigating using Damning Testimony, you may ignore any effect or keyword on the investigated location that would trigger."]],
                        //1 - [2] Fabricated Evidence. Damning Testimony enters play with 2 additional evidence on it.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "uses", 3, 5, "$UPGRADE_1", 2],
                        ["VAR", "$FABRICATED_EVIDENCE", ["PICK_UPGRADE", 3, 5, "$UPGRADE_1", 2]],
                        //2 - [2] Blackmail. You get +2 [intellect] while investigating using Damning Testimony.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_2", 2, "  You get +2 [intellect] while investigating using Damning Testimony."]],
                        //3 - [3] Extort. When you successfully investigate using Damning Testimony, you may spend 1 evidence to automatically evade the chosen enemy.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_3", 3, "  When you successfully investigate using Damning Testimony, you may spend 1 evidence to automatically evade the chosen enemy."]],
                        //4 - [3] Surveil. You may use Damning Testimony's ability to investigate the chosen enemy's location instead of your location.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 3, "  You may use Damning Testimony's ability to investigate the chosen enemy's location instead of your location."]],
                        //5 - [4] Expose. When you successfully investigate using Damning Testimony, you may spend X evidence to discard the chosen enemy if it is non-[[Elite]]. X is that enemy's remaining health.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 4, "  When you successfully investigate using Damning Testimony, you may spend X evidence to discard the chosen enemy if it is non-[[Elite]]. X is that enemy's remaining health."]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. Uses ({0} evidence).  [action] Exhaust Damning Testimony and choose an enemy at any location: <b>Investigate</b> <i>(your location)</i>. If you succeed, you may spend 1 evidence to discover 1 additional clue at the chosen enemy's location.{1}", ["LIST", "$FABRICATED_EVIDENCE", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09060"], //Friends in Low Places
                    [
                        //tmp variables
                        ["VAR", "$TRAITS", ""],
                        //0 - [0] Chosen [[Trait]]: _____.
                        ["UPDATE_VAR", "$TRAITS", ["ADD_UPGRADE", "$TRAITS", "$UPGRADE_0", 0, ["DO_FORMAT_STRING", "Traits chosen: {0}", ["LIST", ["GET_VALID_TRAIT_NAME", "$UPGRADE_0_EXT"]]]]],
                        //1 - [1] Helpful. When you play Friends in Low Places, you may choose another investigator at your location to resolve its effects.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_1", 1, "  When you play Friends in Low Places, you may choose another investigator at your location to resolve its effects."]],
                        //2 - [2] Versatile. Choose another [[Trait]]: _____. When you play Friends in Low Places, you may choose one of the looked-at cards with both chosen Traits to add to your hand without spending 1 resource.
                        ["UPDATE_VAR", "$TRAITS", ["ADD_UPGRADE", "$TRAITS", "$UPGRADE_2", 2, ["DO_FORMAT_STRING", ", {0}", ["LIST", ["GET_VALID_TRAIT_NAME", "$UPGRADE_2_EXT"]]]]],
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_2", 2, "  When you play Friends in Low Places, you may choose one of the looked-at cards with both chosen Traits to add to your hand without spending 1 resource."]],
                        //3 - [2] Bolstering. Each card added to your hand by Friends in Low Places gains a [wild] icon until the end of the phase.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_3", 2, "  Each card added to your hand by Friends in Low Places gains a [wild] icon until the end of the phase."]],
                        //4 - [2] Clever. Instead of shuffling the remaining cards into your deck, you may place each of them on the top of your deck, in any order.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 2, "  Instead of shuffling the remaining cards into your deck, you may place each of them on the top of your deck, in any order."]],
                        //5 - [2] Prompt. Friends in Low Places gains fast and "play during any [fast] window".
                        ["VAR", "$PROMPT", ["PICK_UPGRADE", "", " Fast. Play during any [fast] window.", "$UPGRADE_5", 2]],
                        //6 - [3] Experienced. Increase the number of cards looked at by 3.
                        ["VAR", "$EXPERIENCED", ["PICK_UPGRADE", 6, 9, "$UPGRADE_6", 3]],
                        //7 - [3] Swift. You may play one of the cards added to your hand <i>(paying its cost)</i>.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_7", 3, "  You may play one of the cards added to your hand <i>(paying its cost)</i>."]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable.{0}  {1}  Look at the top {2} cards of your deck. For each looked-at card with the chosen [[Trait]](s), you may spend 1 resource to add that card to your hand. Shuffle the remaining cards into your deck.{3}", ["LIST", "$PROMPT", "$TRAITS", "$EXPERIENCED", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09061"], //Honed Instinct
                    [
                        //tmp variables
                        ["VAR", "$CONDITIONS", ""],
                        //0 - [1] Reflex Response. Add the following play condition: "- You take damage or horror."
                        ["UPDATE_VAR", "$CONDITIONS", ["ADD_UPGRADE", "$CONDITIONS", "$UPGRADE_0", 1, "  - You take damage or horror."]],
                        //1 - [1] Situational Awareness. Add the following play condition: "- A location enters play or is revealed."
                        ["UPDATE_VAR", "$CONDITIONS", ["ADD_UPGRADE", "$CONDITIONS", "$UPGRADE_1", 1, "  - A location enters play or is revealed."]],
                        //2 - [1] Killer Instinct. Add the following play condition: "- An enemy engages you."
                        ["UPDATE_VAR", "$CONDITIONS", ["ADD_UPGRADE", "$CONDITIONS", "$UPGRADE_2", 1, "  - An enemy engages you."]],
                        //3 - [1] Gut Reaction. Add the following play condition: "- A treachery enters your threat area."
                        ["UPDATE_VAR", "$CONDITIONS", ["ADD_UPGRADE", "$CONDITIONS", "$UPGRADE_3", 1, "  - A treachery enters your threat area."]],
                        //4 - [1] Muscle Memory. Add the following play condition: "- You play an asset."
                        ["UPDATE_VAR", "$CONDITIONS", ["ADD_UPGRADE", "$CONDITIONS", "$UPGRADE_4", 1, "  - You play an asset."]],
                        //5 - [2] Sharpened Talent. During the action granted by Honed Instinct, you get +2 to each of your skills.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 2, "  During the action granted by Honed Instinct, you get +2 to each of your skills."]],
                        //6 - [3] Impulse Control. You may include up to three copies of Honed Instinct in your deck. Honed Instinct gets -1 cost.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_6", 3, "  You may include up to three copies of Honed Instinct in your deck."]],
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "cost", 1, 0, "$UPGRADE_6", 3],
                        //7 - [5] Force of Habit. When you play Honed Instinct, you may take 2 actions intstead of 1 (one at a time). Then, remove it from the game.
                        ["VAR", "$FORCE_OF_HABIT", ["PICK_UPGRADE", "an action as if it were your turn", "2 actions as if it were your turn (one at a time). Then, remove Honed Instinct from the game", "$UPGRADE_7", 5]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. Fast. Play this card only after one of the following conditions is met:  - The agenda or act advances.  - You succeed at a skill test by 3 or more.{0}  Immediately take {1}. (Max once per round).{2}", ["LIST", "$CONDITIONS", "$FORCE_OF_HABIT", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09079"], //Living Ink
                    [
                        //tmp variables
                        ["VAR", "$SKILLS", ""],
                        //0 - [0] Chosen skill: _____.
                        ["UPDATE_VAR", "$SKILLS", ["ADD_UPGRADE", "$SKILLS", "$UPGRADE_0", 0, ["DO_FORMAT_STRING", "Skills chosen: {0}", ["LIST", ["GET_VALID_SKILL_NAME", "$UPGRADE_0_EXT"]]]]],
                        //1 - [1] Shifting Ink. You may play Living Ink under the control of another investigator at your location.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_1", 1, "  You may play Living Ink under the control of another investigator at your location."]],
                        //2 - [1] Subtle Depiction. At the start of your turn, you may choose not to remove 1 charge from Living Ink and ignore its ability for the remainder of the round.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_2", 1, "  At the start of your turn, you may choose not to remove 1 charge from Living Ink and ignore its ability for the remainder of the round."]],
                        //3 - [2] Imbued Ink. Living Ink enters play with 2 additional charges and takes up an arcane slot instead of a body slot.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "uses", 3, 5, "$UPGRADE_3", 2],
                        ["VAR", "$IMBUED_INK", ["PICK_UPGRADE", 3, 5, "$UPGRADE_3", 2]],
                        //4 - [2] Eldritch Ink. Choose another skill. _____
                        ["UPDATE_VAR", "$SKILLS", ["ADD_UPGRADE", "$SKILLS", "$UPGRADE_4", 2, ["DO_FORMAT_STRING", ", {0}", ["LIST", ["GET_VALID_SKILL_NAME", "$UPGRADE_4_EXT"]]]]],
                        //5 - [3] Eldritch Ink. Choose another skill. _____
                        ["UPDATE_VAR", "$SKILLS", ["ADD_UPGRADE", "$SKILLS", "$UPGRADE_5", 3, ["DO_FORMAT_STRING", ", {0}", ["LIST", ["GET_VALID_SKILL_NAME", "$UPGRADE_5_EXT"]]]]],
                        //6 - [3] Macabre Depiction. Living Ink gains: "[reaction] After you reveal a chaos token with a symbol, exhaust Living Ink: Place 1 charge on it."
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "reaction", 0, 1, "$UPGRADE_6", 3],
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_6", 3, "  [reaction] After you reveal a chaos token with a symbol, exhaust Living Ink: Place 1 charge on it."]],
                        //7 - [3] Vibrancy. Living Ink grants an additional +1 to the chosen skills and -1 to each other skill.
                        ["VAR", "$VIBRANCY", ["PICK_UPGRADE", "+1 to the chosen skill(s)", "+2 to the chosen skill(s) and -1 to each other skill", "$UPGRADE_7", 3]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. {0}.  Uses ({1} charges).  Remove 1 charge from Living Ink at the start of each of your turns. If Living Ink has no charges, discard it.  You get {2}.{3}", ["LIST", "$SKILLS", "$IMBUED_INK", "$VIBRANCY", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09080"], //Summoned Servitor
                    [
                        //tmp variables
                        ["VAR", "$ACTIONS", ""],
                        //0 - [1] Armored Carapace. Summoned Servitor gains a health value of 3. It can be assigned damage dealt to any investigator at its location.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "uses", null, 3, "$UPGRADE_0", 1],
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_0", 1, "  Summoned Servitor can be assigned damage dealt to any investigator at its location."]],
                        //1 - [1] Claws that Catch. Add this action: "- <b>Fight.</b> You fight any enemy at this location with a base [combat] of 4. Ignore the aloof and retaliate keywords for this attack."
                        ["UPDATE_VAR", "$ACTIONS", ["ADD_UPGRADE", "$ACTIONS", "$UPGRADE_1", 1, "  - <b>Fight.</b> You fight any enemy at this location with a base [combat] of 4. Ignore the aloof and retaliate keywords for this attack."]],
                        //2 - [1] Jaws that Snatch. Add this action: "- <b>Evade.</b> You attempt to evade any enemy at this location with a base [agility] of 4. Ignore the alert keyword for this evasion attempt."
                        ["UPDATE_VAR", "$ACTIONS", ["ADD_UPGRADE", "$ACTIONS", "$UPGRADE_2", 1, "  - <b>Evade.</b> You attempt to evade any enemy at this location with a base [agility] of 4. Ignore the alert keyword for this evasion attempt."]],
                        //3 - [1] Eyes of Flame. Add this action: "- <b>Investigate.</b> You investigate this location with a base [intellect] of 4."
                        ["UPDATE_VAR", "$ACTIONS", ["ADD_UPGRADE", "$ACTIONS", "$UPGRADE_3", 1, "  - <b>Investigate.</b> You investigate this location with a base [intellect] of 4."]],
                        //4 - [1] Wings of Night. After Summoned Servitor moves from your location to a connecting location, you may move to that location, as well.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 1, "  After Summoned Servitor moves from your location to a connecting location, you may move to that location, as well."]],
                        //5 - [2] Dominance. Summoned Servitor no longer takes up an (circle one): arcane / ally slot.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 2, ["DO_FORMAT_STRING", "  Summoned Servitor no longer takes up an {0} slot.", ["LIST", ["INLINE_IF", ["EQUAL", "$UPGRADE_5_EXT", "0"], "arcane", ["INLINE_IF", ["EQUAL", "$UPGRADE_5_EXT", "1"], "ally", "unknown"]]]]]],
                        //6 - [3] Dreaming Call. Instead of discarding another asset you control in order to play Summoned Servitor, you may return that asset to its owner's hand.
                        ["VAR", "$DREAMING_CALL", ["PICK_UPGRADE", "", "or return that asset to its owner's hand", "$UPGRADE_6", 3]],
                        //7 - [5] Dæmonic Influence. Summoned Servitor can take 2 different actions instead of 1 during each of your turns.
                        ["VAR", "$DAEMONIC_INFLUENCE", ["PICK_UPGRADE", "1 action during each of your turns, which can only be used to take the following action", "2 different actions during each of your turns, which can only be used to take the following actions", "$UPGRADE_7", 5]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. As an additional cost to play Summoned Servitor, you must discard another asset you control{0}.{1}  Summoned Servitor enters play at your location. It can take {2}:  - Move Summoned Servitor to a connecting revealed location.{3}", ["LIST", "$DREAMING_CALL", "$UPGRADES", "$DAEMONIC_INFLUENCE", "$ACTIONS"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09081"], //Power Word
                    [
                        //tmp variables
                        ["VAR", "$COMMANDS", ""],
                        //0 - [1] Betray. Add the command: "- <i>“Betray.”</i> Deal 1 damage to any enemy at this enemy's location with an equal or lower fight value than this enemy."
                        ["UPDATE_VAR", "$COMMANDS", ["ADD_UPGRADE", "$COMMANDS", "$UPGRADE_0", 1, "  - <i>“Betray.”</i> Deal 1 damage to any enemy at this enemy's location with an equal or lower fight value than this enemy."]],
                        //(since taboo 6) 1 - [1] Cower. Add the command: "- <i>“Cower.”</i> This enemy exhausts."
                        //(before taboo 6) 1 - [1] Mercy. Add the command: "- <i>“Mercy.”</i> An investigator at this enemy's location heals damage or horror equal to this enemy's respective damage/horror value."
                        ["UPDATE_VAR", "$COMMANDS", ["ADD_UPGRADE", "$COMMANDS", "$UPGRADE_1", 1, ["INLINE_IF", ["GREATER_EQUAL", "$TABOO_ID", 6], "  - <i>“Cower.”</i> This enemy exhausts.", "  - <i>“Mercy.”</i> An investigator at this enemy's location heals damage or horror equal to this enemy's respective damage/horror value."]]],
                        //2 - [1] Confess. Add the command: "- <i>“Confess.”</i> Discover 1 clue at this enemy's location if its health is equal to or higher than its location's shroud."
                        ["UPDATE_VAR", "$COMMANDS", ["ADD_UPGRADE", "$COMMANDS", "$UPGRADE_2", 1, "  - <i>“Confess.”</i> Discover 1 clue at this enemy's location if its health is equal to or higher than its location's shroud."]],
                        //3 - [1] Distract. Add the command: "- <i>“Distract.”</i> Automatically evade any enemy at this enemy's location with an equal or lower evade value than this enemy."
                        ["UPDATE_VAR", "$COMMANDS", ["ADD_UPGRADE", "$COMMANDS", "$UPGRADE_3", 1, "  - <i>“Distract.”</i> Automatically evade any enemy at this enemy's location with an equal or lower evade value than this enemy."]],
                        //4 - [2] Greater Control. Power Word gains "[fast]: Return Power Word to your hand."
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "free", 0, 1, "$UPGRADE_4", 2],
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 2, "  [fast]: Return Power Word to your hand."]],
                        //5 - [3] Bonded. You may activate the parley ability on Power Word from up to one location away from the attached enemy.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 3, "  You may activate the parley ability on Power Word from up to one location away from the attached enemy."]],
                        //6 - [3] Tonguetwister. When you parley with Power Word, you may give up to two different commands.
                        ["VAR", "$TONGUETWISTER", ["PICK_UPGRADE", "a command", "up to two different commands", "$UPGRADE_6", 3]],
                        //7 - [3] Thrice Spoken. You may include three copies of Power Word in your deck. When you give a command using one copy, also give that command to each other enemy with one of your copies of Power Word attached.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_7", 3, "  You may include three copies of Power Word in your deck. When you give a command using one copy, also give that command to each other enemy with one of your copies of Power Word attached."]],
                        //update text
                        ["COND",
                            ["GREATER_EQUAL", "$TABOO_ID", 6],
                            ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Mutated. Customizable. Fast. Play only during your turn.  Attach to a non-[[Elite]] enemy at your location.{0}  [action] If attached enemy is at your location: <b>Parley.</b> Test [willpower] 3. If you succeed, give it {1} (limit once per round per command) -  - <i>“Go.”</i> This enemy moves once in a direction of your choice.{2}", ["LIST", "$UPGRADES", "$TONGUETWISTER", "$COMMANDS"]]],
                            ["TRUE"],
                            ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. Fast. Play only during your turn.  Attach to a non-[[Elite]] enemy at your location.{0}  [action] If attached enemy is at your location: <b>Parley.</b> Give it {1} (limit once per round per command) -  - <i>“Go.”</i> This enemy moves once in a direction of your choice.  - <i>“Cower.”</i> This enemy exhausts.{2}", ["LIST", "$UPGRADES", "$TONGUETWISTER", "$COMMANDS"]]]
                        ]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09099"], //Pocket Multi Tool
                    [
                        //0 -[1] Detachable. Other investigators at your location may use the ability on Pocket Multi Tool.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_0", 1, "  Other investigators at your location may use the ability on Pocket Multi Tool."]],
                        //1 -[1] Pry Bar. You get an additional +1 skill value if this is during a skill test on a treachery.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_1", 1, "  You get an additional +1 skill value if this is during a skill test on a treachery."]],
                        //2 -[2] Sharpened Knife. You get an additional +1 skill value if this is during an attack.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_2", 2, "  You get an additional +1 skill value if this is during an attack."]],
                        //3 -[2] Signal Mirror. You get an additional +1 skill value if this is during an evasion attempt.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_3", 2, "  You get an additional +1 skill value if this is during an evasion attempt."]],
                        //4 -[2] Magnifying Lens. You get an additional +1 skill value if this is during an investigation.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 2, "  You get an additional +1 skill value if this is during an investigation."]],
                        //5 -[3] Lucky Charm. After you fail a skill test, ready Pocket Multi Tool.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 3, "  After you fail a skill test, ready Pocket Multi Tool."]],
                        //6 -[4] Spring-Loaded. Pocket Multi Tool's ability is now a [reaction] ability with the trigger: "When you would fail a skill test you are performing, exhaust Pocket Multi Tool..."
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "free", 1, 0, "$UPGRADE_6", 4],
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "reaction", 0, 1, "$UPGRADE_6", 4],
                        ["VAR", "$SPRING_LOADED", ["PICK_UPGRADE", "[fast] During", "[reaction] When you would fail", "$UPGRADE_6", 4]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. Limit 1 per investigator.  {0} a skill test you are performing, exhaust Pocket Multi Tool: You get +1 skill value for this test.{1}", ["LIST", "$SPRING_LOADED", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09100"], //Makeshift Trap
                    [
                        //0 -[1] Improved Timer. When you play Makeshift Trap, you may increase or decrease its uses by 1.
                        ["VAR", "$IMPROVED_TIMER", ["PICK_UPGRADE", "", "  When you play Makeshift Trap, you may increase or decrease its uses by 1.", "$UPGRADE_0", 1]],
                        //1 -[1] Tripwire. Only trigger Makeshift Trap's forced ability if there are 1 or more enemies at attached location.
                        ["VAR", "$TRIP_WIRE", ["PICK_UPGRADE", "", ", if there are one or more enemies at attached location", "$UPGRADE_1", 1]],
                        //2 -[2] Simple. Makeshift Trap gains fast and "play during any [fast] window."
                        ["VAR", "$SIMPLE", ["PICK_UPGRADE", "", " Fast. Play during any [fast] window.", "$UPGRADE_2", 2]],
                        //3 -[2] Poisonous. When you remove 1 or more time from Makeshift Trap, deal 1 damage to an enemy at attached location.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_3", 2, "  When you remove 1 or more time from Makeshift Trap, deal 1 damage to an enemy at attached location."]],
                        //4 -[2] Remote Configuration. When you play Makeshift Trap, you may attach it to a revealed connecting location.
                        ["VAR", "$REMOTE_CONFIGURATION", ["PICK_UPGRADE", "", ", or to a revealed connecting location", "$UPGRADE_4", 2]],
                        //5 -[3] Net. Non-Elite enemies at attached location cannot move or make attacks of opportunity.
                        ["VAR", "$NET", ["PICK_UPGRADE", "", ", and cannot move or make attacks of opportunity", "$UPGRADE_5", 3]],
                        //6 -[4] Explosive Device. When Makeshift Trap has no time and is discarded, deal 3 damage to each enemy and investigator at attached location.
                        ["VAR", "$EXPLOSIVE_DEVICE", ["PICK_UPGRADE", "", " and deal 3 damage to each enemy and investigator at attached location", "$UPGRADE_6", 4]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable.{0}  Uses (2 time). If Makeshift Trap has no time, discard it{1}.{2}  Attach to your location{3}.  Each non-[[Elite]] enemy at attached location get -1 fight and -1 evade{4}.  <b>Forced</b> - At the end of the round{5}: Remove 1 time from Makeshift Trap.{6}", ["LIST", "$SIMPLE", "$EXPLOSIVE_DEVICE", "$IMPROVED_TIMER", "$REMOTE_CONFIGURATION", "$NET", "$TRIP_WIRE", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09101"], //Grizzled
                    [
                        //tmp variables
                        ["VAR", "$TRAITS", ""],
                        //0 -[0] Traits chosen: _____
                        ["VAR", "$UPGRADE_0_EXT_LIST", ["SPLIT_STRING", "{{$UPGRADE_0_EXT}}^ ^ ", "^"]],
                        ["UPDATE_VAR", "$TRAITS", ["ADD_UPGRADE", "$TRAITS", "$UPGRADE_0", 0, ["DO_FORMAT_STRING", "Traits chosen: {0}, {1}", ["LIST", ["GET_VALID_TRAIT_NAME", "$UPGRADE_0_EXT_LIST.[0]"], ["GET_VALID_TRAIT_NAME", "$UPGRADE_0_EXT_LIST.[1]"]]]]],
                        //1 -[1] Specialist. Choose another trait: _____
                        ["UPDATE_VAR", "$TRAITS", ["ADD_UPGRADE", "$TRAITS", "$UPGRADE_1", 1, ["DO_FORMAT_STRING", ", {0}", ["LIST", ["GET_VALID_TRAIT_NAME", "$UPGRADE_1_EXT"]]]]],
                        //2 -[2] Specialist. Choose another trait: _____
                        ["UPDATE_VAR", "$TRAITS", ["ADD_UPGRADE", "$TRAITS", "$UPGRADE_2", 2, ["DO_FORMAT_STRING", ", {0}", ["LIST", ["GET_VALID_TRAIT_NAME", "$UPGRADE_2_EXT"]]]]],
                        //3 -[3] Nemesis. If this is a skill test on or against an enemy with a chosen trait and the test is successful, you may attach Grizzled to that enemy. Reduce the difficulty of tests on or against the attached enemy by 1.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_3", 3, "  If this is a skill test on or against an enemy with a chosen trait and the test is successful, you may attach Grizzled to that enemy. Reduce the difficulty of tests on or against the attached enemy by 1."]],
                        //4 -[4] Mythos-Hardened. If this skill test is on a treachery with a chosen trait and the test is successful, you may add both Grizzled and that treachery to the victory display.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_4", 3, "  If this skill test is on a treachery with a chosen trait and the test is successful, you may add both Grizzled and that treachery to the victory display."]],
                        //5 -[5] Always Prepared. After you draw an encounter card with a chosen trait, return one copy of Grizzled from your discard pile to your hand. (Max once per round.)
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_5", 5, "  After you draw an encounter card with a chosen trait, return one copy of Grizzled from your discard pile to your hand. (Max once per round.)"]],
                        //update text
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. {0}.  If this is a skill test on or against an encounter card <i>(including fighting, evading, or parleying)</i>, Grizzled gains [wild][wild] for each of the chosen traits that encounter card possesses.{1}", ["LIST", "$TRAITS", "$UPGRADES"]]]
                    ],
                    ["EQUAL", "$TARGET_CARD.sides.A.databaseId", "09119"], //Hyperphysical Shotcaster: Theoretical Device
                    [
                        //tmp variables
                        ["VAR", "$FORMS", ""],
                        //0 -[2] Railshooter. Hyperphysical Shotcaster has this form: "<i>Manifest</i> - <b>Fight.</b> Fight with any skill. This attack deals +1 damage."
                        ["UPDATE_VAR", "$FORMS", ["ADD_UPGRADE", "$FORMS", "$UPGRADE_0", 2, "  Railshooter form: <i>Manifest</i> - <b>Fight.</b> Fight with any skill. This attack deals +1 damage."]],
                        //1 -[2] Telescanner. Hyperphysical Shotcaster has this form: "<i>Manifest</i> - <b>Investigate.</b> Investigate with any skill. If you succeed, discover a clue at any revealed location instead of your location."
                        ["UPDATE_VAR", "$FORMS", ["ADD_UPGRADE", "$FORMS", "$UPGRADE_1", 2, "  Telescanner form: <i>Manifest</i> - <b>Investigate.</b> Investigate with any skill. If you succeed, discover a clue at any revealed location instead of your location."]],
                        //2 -[2] Translocator. Hyperphysical Shotcaster has this form: "<i>Manifest</i> - <b>Evade.</b> Attempt to evade with any skill. Before or after this attempt, you may move an investigator or a non-[[Elite]] enemy at your location to a connecting location, or vice versa."
                        ["UPDATE_VAR", "$FORMS", ["ADD_UPGRADE", "$FORMS", "$UPGRADE_2", 2, "  Translocator form: <i>Manifest</i> - <b>Evade.</b> Attempt to evade with any skill. Before or after this attempt, you may move an investigator or a non-[[Elite]] enemy at your location to a connecting location, or vice versa."]],
                        //3 -[2] Realitycollapser. Hyperphysical Shotcaster has this form: "<i>Manifest</i> - Test any skill (3). If you succeed, discard from play a non-weakness treachery that is not attached to an [[Elite]] enemy."
                        ["UPDATE_VAR", "$FORMS", ["ADD_UPGRADE", "$FORMS", "$UPGRADE_3", 2, "  Realitycollapser form: <i>Manifest</i> - Test any skill (3). If you succeed, discard from play a non-weakness treachery that is not attached to an [[Elite]] enemy."]],
                        //4 -[2] Matterweaver. Hyperphysical Shotcaster has this form: "<i>Manifest</i> - Choose an asset in your hand and test any skill (X), where X is that asset's cost. If you succeed, play that asset at no cost."
                        ["UPDATE_VAR", "$FORMS", ["ADD_UPGRADE", "$FORMS", "$UPGRADE_4", 2, "  Matterweaver form: <i>Manifest</i> - Choose an asset in your hand and test any skill (X), where X is that asset's cost. If you succeed, play that asset at no cost."]],
                        //5 -[4] Aetheric Link. Hyperphysical Shotcaster enters play with 2 additional aether.
                        ["SET_UPGRADE", "$TARGET_CARD_ID", "uses", 4, 6, "$UPGRADE_5", 4],
                        ["VAR", "$AETHERIC_LINK", ["PICK_UPGRADE", 4, 6, "$UPGRADE_5", 4]],
                        //6 -[4] Empowered Configuration. While using a <i>Manifest</i> ability, you get +2 skill value.
                        ["UPDATE_VAR", "$UPGRADES", ["ADD_UPGRADE", "$UPGRADES", "$UPGRADE_6", 4, "  While using a <i>Manifest</i> ability, you get +2 skill value."]],
                        //Customizable. Uses (4 aether). If Hyperphysical Shotcaster has no aether, discard it.  [action] Spend 1 aether: Resolve the <i>Manifest</i> ability of the Hyperphysical Shotcaster's current form.  [fast] Exhaust Hyperphysical Shotcaster: Change its form <i>(to one you have unlocked on its upgrade sheet).</i>
                        ["UPDATE_VAR", "$NEW_TEXT", ["DO_FORMAT_STRING", "Customizable. Uses ({0} aether). If Hyperphysical Shotcaster has no aether, discard it.  [action] Spend 1 aether: Resolve the <i>Manifest</i> ability of the Hyperphysical Shotcaster's current form.{1}  [fast] Exhaust Hyperphysical Shotcaster: Change its form <i>(to one you have unlocked on its upgrade sheet).</i>{2}", ["LIST", "$AETHERIC_LINK", "$UPGRADES", "$FORMS"]]]
                    ]
                ],
                //update this card if needed
                ["COND",
                    ["NOT_EQUAL", "$CARD_BY_ID.$TARGET_CARD_ID.sides.A.xp", "$NEW_XP"],
                    ["SET", "/cardById/$TARGET_CARD_ID/sides/A/xp", "$NEW_XP"]
                ],
                ["COND",
                    ["NOT_EQUAL", "$CARD_BY_ID.$TARGET_CARD_ID.sides.A.text", "$NEW_TEXT"],
                    ["SET", "/cardById/$TARGET_CARD_ID/sides/A/text", "$NEW_TEXT"]
                ],
                //look for upgrade card
                ["VAR", "$UPG_DATABASE_ID", "upg{{$DATABASE_ID}}"],
                ["VAR", "$UPGRADE_CARD", ["GET_NAMED_CARD", "$UPG_DATABASE_ID"]],
                //spawn upgrade card if needed
                ["COND",
                    ["EQUAL", "$UPGRADE_CARD", null],
                    [
                        ["DO_CREATE_CARDS", "$TARGET_PLAYER", "Upgrade Card", "$UPG_DATABASE_ID", 1, ["GET_CONTROLLER_PLAY", "$TARGET_PLAYER"], false, null],
                        ["UPDATE_VAR", "$UPGRADE_CARD", "$CARD_BY_ID.{{$GAME.lastLoadedCardIds.[0]}}"]
                    ]
                ],
                //construct image url for the upgrade card
                ["VAR", "$CUSTOMIZATION", ""],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 0, "$UPGRADE_0", "$UPGRADE_0_EXT"]],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 1, "$UPGRADE_1", "$UPGRADE_1_EXT"]],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 2, "$UPGRADE_2", "$UPGRADE_2_EXT"]],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 3, "$UPGRADE_3", "$UPGRADE_3_EXT"]],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 4, "$UPGRADE_4", "$UPGRADE_4_EXT"]],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 5, "$UPGRADE_5", "$UPGRADE_5_EXT"]],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 6, "$UPGRADE_6", "$UPGRADE_6_EXT"]],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 7, "$UPGRADE_7", "$UPGRADE_7_EXT"]],
                ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT_UPGRADE", "$CUSTOMIZATION", 8, "$UPGRADE_8", "$UPGRADE_8_EXT"]],
                ["VAR", "$IMAGE_URL", ["FORMAT", "https://ahlcg.derwinski.pl/{0}-{1}-{2}.webp", "$DATABASE_ID", "$TABOO_ID", ["BASE64_ENCODE", "$CUSTOMIZATION"]]],
                //update upgrade card if needed (flip to hopefully force image refresh)
                ["COND",
                    ["NOT_EQUAL", "$UPGRADE_CARD.sides.A.imageUrl", "$IMAGE_URL"],
                    [
                        ["SET", "/cardById/$UPGRADE_CARD.id/currentSide", "B"],
                        ["SET", "/cardById/$UPGRADE_CARD.id/sides/A/imageUrl", "$IMAGE_URL"],
                        ["SET", "/cardById/$UPGRADE_CARD.id/currentSide", "A"]
                    ]
                ]
            ]
        },
        "FORMAT_UPGRADE": {
            "args": ["$CUSTOMIZATION", "$INDEX", "$UPGRADE", "$UPGRADE_EXT"],
            "code": [
                ["COND",
                    ["OR",
                        ["GREATER_THAN", "$UPGRADE", 0],
                        ["NOT_EQUAL", "$UPGRADE_EXT", ""]
                    ],
                    [
                        ["COND",
                            ["NOT_EQUAL", "$CUSTOMIZATION", ""],
                            ["UPDATE_VAR", "$CUSTOMIZATION", ["JOIN_STRING", "$CUSTOMIZATION", ","]]
                        ],
                        ["COND",
                            ["NOT_EQUAL", "$UPGRADE_EXT", ""],
                            ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT", "{0}{1}|{2}|{3}", "$CUSTOMIZATION", "$INDEX", "$UPGRADE", "$UPGRADE_EXT"]],
                            ["TRUE"],
                            ["UPDATE_VAR", "$CUSTOMIZATION", ["FORMAT", "{0}{1}|{2}", "$CUSTOMIZATION", "$INDEX", "$UPGRADE"]]
                        ]
                    ]
                ],
                "$CUSTOMIZATION"
            ]
        },
        "GET_TABOO_VALUE": {
            "args": ["$TARGET_PLAYER"],
            "code": [
                ["COND",
                    ["DEFINED", "$PLAYER_DATA.$TARGET_PLAYER.arkham.tabooId"],
                    "$PLAYER_DATA.$TARGET_PLAYER.arkham.tabooId",
                    ["TRUE"],
                    0
                ]
            ]
        },
        "DO_SET_TABOO_VALUE": {
            "args": ["$TARGET_PLAYER", "$TABOO_VALUE", "$TABOO_NAME", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_SET_TABOO_VALUE.TARGET_PLAYER"],
                ["VALIDATE_GE0", "$TABOO_VALUE", "DO_SET_TABOO_VALUE.TABOO_VALUE"],
                ["VALIDATE_NOT_EMPTY", "$TABOO_NAME", "DO_SET_TABOO_VALUE.TABOO_NAME"],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_SET_TABOO_VALUE.LOG_EVENT"],
                ["VAR", "$OLD_TABOO_VALUE", ["GET_TABOO_VALUE", "$TARGET_PLAYER"]],
                ["COND",
                    ["NOT_EQUAL", "$OLD_TABOO_VALUE", "$TABOO_VALUE"],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "change Taboo to {{$TABOO_NAME}}.", "changes Taboo to {{$TABOO_NAME}}."],
                        ["SET", "/playerData/$TARGET_PLAYER/arkham/tabooId", "$TABOO_VALUE"],
                        ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                            ["EQUAL", "$CARD.cardOwner", "$TARGET_PLAYER"],
                            ["OR",
                                ["EQUAL", "$CARD.sides.A.databaseId", "09022"], //Runic Axe
                                ["EQUAL", "$CARD.sides.A.databaseId", "09041"], //Empirical Hypothesis
                                ["EQUAL", "$CARD.sides.A.databaseId", "09081"]  //Power Word
                            ]
                        ]]],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["DO_SPAWN_CUSTOMIZABLE", "$CARD.id", "$TARGET_PLAYER"]
                        ]]
                    ],
                    ["TRUE"],
                    ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "keep Taboo {{$TABOO_NAME}}.", "keeps Taboo {{$TABOO_NAME}}."]
                ]
            ]
        },
        "GET_UPGRADE_VALUE": {
            "args": ["$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", "$INDEX"],
            "code": [
                ["COND",
                    ["DEFINED", "$PLAYER_DATA.$TARGET_PLAYER.arkham.deckCustomizable.$DATABASE_ID.$OPTION.[$INDEX]"],
                    "$PLAYER_DATA.$TARGET_PLAYER.arkham.deckCustomizable.$DATABASE_ID.$OPTION.[$INDEX]",
                    ["TRUE"],
                    null
                ]
            ]
        },
        "SET_UPGRADE_VALUE": {
            "args": ["$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", "$INDEX", "$VALUE"],
            "code": [
                ["COND",
                    ["NOT_EQUAL", ["DEFINED", "$PLAYER_DATA.$TARGET_PLAYER.arkham.deckCustomizable.$DATABASE_ID"], true],
                    ["SET", "/playerData/$TARGET_PLAYER/arkham/deckCustomizable/$DATABASE_ID", {}]
                ],
                ["COND",
                    ["NOT_EQUAL", ["DEFINED", "$PLAYER_DATA.$TARGET_PLAYER.arkham.deckCustomizable.$DATABASE_ID.$OPTION"], true],
                    ["SET", "/playerData/$TARGET_PLAYER/arkham/deckCustomizable/$DATABASE_ID/$OPTION", ["LIST", 0, ""]]
                ],
                ["VAR", "$UPGRADE", ["TO_INT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", 0], 0]]],
                ["VAR", "$UPGRADE_EXT", ["NVL", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", 1], ""]],
                ["COND",
                    ["EQUAL", "$INDEX", 0],
                    [
                        ["COND",
                            ["NOT_EQUAL", "$UPGRADE", "$VALUE"],
                            ["SET", "/playerData/$TARGET_PLAYER/arkham/deckCustomizable/$DATABASE_ID/$OPTION", ["LIST", "$VALUE", "$UPGRADE_EXT"]]
                        ]
                    ],
                    ["TRUE"],
                    [
                        ["COND",
                            ["NOT_EQUAL", "$UPGRADE_EXT", "$VALUE"],
                            ["SET", "/playerData/$TARGET_PLAYER/arkham/deckCustomizable/$DATABASE_ID/$OPTION", ["LIST", "$UPGRADE", "$VALUE"]]
                        ]
                    ]
                ]
            ]
        },
        "GET_EXT_UPGRADE_VALUE": {
            "args": ["$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", "$EXT_INDEX"],
            "code": [
                ["COND",
                    ["DEFINED", "$PLAYER_DATA.$TARGET_PLAYER.arkham.deckCustomizable.$DATABASE_ID.$OPTION.[1]"],
                    [
                        ["VAR", "$UPGRADE_EXT", "$PLAYER_DATA.$TARGET_PLAYER.arkham.deckCustomizable.$DATABASE_ID.$OPTION.[1]"],
                        ["VAR", "$UPGRADE_EXT_LIST", ["SPLIT_STRING", "{{$UPGRADE_EXT}}^ ^ ", "^"]],
                        ["VAR", "$EXT_VALUE", "$UPGRADE_EXT_LIST.[$EXT_INDEX]"],
                        ["COND",
                            ["OR",
                                ["EQUAL", "$EXT_VALUE", ""],
                                ["EQUAL", "$EXT_VALUE", " "]
                            ],
                            null,
                            ["TRUE"],
                            "$EXT_VALUE"
                        ]
                    ],
                    ["TRUE"],
                    null
                ]
            ]
        },
        "GET_EXT_UPGRADE_STRING": {
            "args": ["$EXT_0", "$EXT_1"],
            "code": [
                ["COND",
                    ["EQUAL", "$EXT_1", ""],
                    "$EXT_0",
                    ["TRUE"],
                    ["FORMAT", "{0}^{1}", "$EXT_0", "$EXT_1"]
                ]
            ]
        },
        "SET_EXT_UPGRADE_VALUE": {
            "args": ["$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", "$EXT_INDEX", "$VALUE"],
            "code": [
                ["VAR", "$EXT_0", ["NVL", ["GET_EXT_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", 0], ""]],
                ["VAR", "$EXT_1", ["NVL", ["GET_EXT_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", 1], ""]],
                ["COND",
                    ["EQUAL", "$EXT_INDEX", 0],
                    [
                        ["COND",
                            ["NOT_EQUAL", "$EXT_0", "$VALUE"],
                            ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", 1, ["GET_EXT_UPGRADE_STRING", "$VALUE", "$EXT_1"]]
                        ]
                    ],
                    ["TRUE"],
                    [
                        ["COND",
                            ["NOT_EQUAL", "$EXT_1", "$VALUE"],
                            ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", 1, ["GET_EXT_UPGRADE_STRING", "$EXT_0", "$VALUE"]]
                        ]
                    ]
                ]
            ]
        },
        "CALCULATE_UPGRADE_XP": {
            "args": ["$UPGRADE_0", "$UPGRADE_1", "$UPGRADE_2", "$UPGRADE_3", "$UPGRADE_4", "$UPGRADE_5", "$UPGRADE_6", "$UPGRADE_7", "$UPGRADE_8"],
            "code": [
                ["VAR", "$XP", 0],
                ["INCREASE_VAR", "$XP", "$UPGRADE_0"],
                ["INCREASE_VAR", "$XP", "$UPGRADE_1"],
                ["INCREASE_VAR", "$XP", "$UPGRADE_2"],
                ["INCREASE_VAR", "$XP", "$UPGRADE_3"],
                ["INCREASE_VAR", "$XP", "$UPGRADE_4"],
                ["INCREASE_VAR", "$XP", "$UPGRADE_5"],
                ["INCREASE_VAR", "$XP", "$UPGRADE_6"],
                ["INCREASE_VAR", "$XP", "$UPGRADE_7"],
                ["INCREASE_VAR", "$XP", "$UPGRADE_8"],
                ["VAR", "$HALF_XP", ["TO_INT", ["DIVIDE", "$XP", 2]]],
                ["COND",
                    ["LESS_THAN", ["MULTIPLY", "$HALF_XP", 2], "$XP"],
                    ["INCREASE_VAR", "$HALF_XP", 1]
                ],
                ["COND",
                    ["GREATER_THAN", "$HALF_XP", 5],
                    5,
                    ["TRUE"],
                    "$HALF_XP"
                ]
            ]
        },
        "SET_UPGRADE": {
            "args": ["$TARGET_CARD_ID", "$ATTRIBUTE", "$BASIC_VALUE", "$UPGRADED_VALUE", "$PIPS", "$REQUIRED"],
            "code": [
                ["VAR", "$NEW_VALUE", ["INLINE_IF", ["GREATER_EQUAL", "$PIPS", "$REQUIRED"], "$UPGRADED_VALUE", "$BASIC_VALUE"]],
                ["COND",
                    ["NOT_EQUAL", "$CARD_BY_ID.$TARGET_CARD_ID.sides.A.{{$ATTRIBUTE}}", "$NEW_VALUE"],
                    ["SET", "/cardById/$TARGET_CARD_ID/sides/A/{{$ATTRIBUTE}}", "$NEW_VALUE"]
                ]
            ]
        },
        "ADD_UPGRADE": {
            "args": ["$CURRENT_TEXT", "$PIPS", "$REQUIRED", "$NEW_TEXT"],
            "code": [
                ["COND",
                    ["GREATER_EQUAL", "$PIPS", "$REQUIRED"],
                    ["JOIN_STRING", "$CURRENT_TEXT", "$NEW_TEXT"],
                    ["TRUE"],
                    "$CURRENT_TEXT"
                ]
            ]
        },
        "PICK_UPGRADE": {
            "args": ["$BASIC_VALUE", "$UPGRADED_VALUE", "$PIPS", "$REQUIRED"],
            "code": [
                ["COND",
                    ["GREATER_EQUAL", "$PIPS", "$REQUIRED"],
                    "$UPGRADED_VALUE",
                    ["TRUE"],
                    "$BASIC_VALUE"
                ]
            ]
        },
        "DO_CHANGE_CUSTOMIZABLE_CARD": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "$UPGRADE_NAME", "$OPTION", "$MIN_VALUE", "$MAX_VALUE", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_CHANGE_CUSTOMIZABLE_CARD.TARGET_PLAYER"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_CHANGE_CUSTOMIZABLE_CARD.TARGET_CARD_ID"]],
                ["VALIDATE_NOT_EMPTY", "$DATABASE_ID", "DO_CHANGE_CUSTOMIZABLE_CARD.DATABASE_ID"],
                ["VALIDATE_NOT_EMPTY", "$UPGRADE_NAME", "DO_CHANGE_CUSTOMIZABLE_CARD.UPGRADE_NAME"],
                ["VALIDATE_NOT_EMPTY", "$OPTION", "DO_CHANGE_CUSTOMIZABLE_CARD.OPTION"],
                ["VALIDATE_GE0", "$MIN_VALUE", "DO_CHANGE_CUSTOMIZABLE_CARD.MIN_VALUE"],
                ["VALIDATE_GE0", "$MAX_VALUE", "DO_CHANGE_CUSTOMIZABLE_CARD.MAX_VALUE"],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_CHANGE_CUSTOMIZABLE_CARD.LOG_EVENT"],
                ["VAR", "$PROMPT_PLAYER", ["NVL", "$ACTOR_PLAYER", "$TARGET_PLAYER"]],
                ["VAR", "$MAX_VALUE_PLUS_1", ["ADD", "$MAX_VALUE", 1]],
                ["PROMPT", "$PROMPT_PLAYER", "selectPipsPrompt", "$UPGRADE_NAME"],
                ["FOR_EACH_START_STOP_STEP", "$I", "$MIN_VALUE", "$MAX_VALUE_PLUS_1", 1, [
                    ["PROMPT_ADD_OPTION", "$PROMPT_PLAYER", ["DO_FORMAT_STRING", "{0} pip{0:S}.", ["LIST", "$I"]], "{{$I}}", ["LIST", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL_STR", "{{$TARGET_PLAYER}}", "{{$TARGET_CARD_ID}}", "{{$DATABASE_ID}}", "{{$UPGRADE_NAME}}", "{{$OPTION}}", "0", "{{$I}}", "{{$LOG_EVENT}}", "{{$ACTOR_PLAYER}}"]]
                ]],
                ["PROMPT_ADD_OPTION", "$PROMPT_PLAYER", "Cancel.", "X"]
            ]
        },
        "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "$UPGRADE_NAME", "$OPTION", "$INDEX", "$VALUE", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL.TARGET_PLAYER"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL.TARGET_CARD_ID"]],
                ["VALIDATE_NOT_EMPTY", "$DATABASE_ID", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL.DATABASE_ID"],
                ["VALIDATE_NOT_EMPTY", "$UPGRADE_NAME", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL.UPGRADE_NAME"],
                ["VALIDATE_NOT_EMPTY", "$OPTION", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL.OPTION"],
                ["VALIDATE_GE0", "$INDEX", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL.INDEX"],
                ["VALIDATE_GE0", "$VALUE", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL.VALUE"],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL.LOG_EVENT"],
                ["VAR", "$OLD_VALUE", ["GET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", "$INDEX"]],
                ["COND",
                    ["NOT_EQUAL", "$OLD_VALUE", "$VALUE"],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "change {{$UPGRADE_NAME}} to {{$VALUE}}.", "changes {{$UPGRADE_NAME}} to {{$VALUE}}."],
                        ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", "$INDEX", "$VALUE"],
                        ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                            ["EQUAL", "$CARD.cardOwner", "$TARGET_PLAYER"],
                            ["EQUAL", "$CARD.sides.A.databaseId", "$DATABASE_ID"]
                        ]]],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["DO_SPAWN_CUSTOMIZABLE", "$CARD.id", "$TARGET_PLAYER"]
                        ]]
                    ],
                    ["TRUE"],
                    ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "keep {{$UPGRADE_NAME}} at {{$VALUE}}.", "keeps {{$UPGRADE_NAME}} at {{$VALUE}}."]
                ]
            ]
        },
        "DO_CHANGE_CUSTOMIZABLE_CARD_FINAL_STR": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "$UPGRADE_NAME", "$OPTION", "$INDEX", "$VALUE", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["DO_CHANGE_CUSTOMIZABLE_CARD_FINAL", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "$UPGRADE_NAME", "$OPTION", ["CALC", "{{$INDEX}}"], ["CALC", "{{$VALUE}}"], ["EQUAL", "{{$LOG_EVENT}}", "true"], "$ACTOR_PLAYER"]
            ]
        },
        "DO_CHANGE_EXT": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "$UPGRADE_NAME", "$OPTION", "$EXT_INDEX", "$NAME_VALUE_LIST_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_CHANGE_EXT.TARGET_PLAYER"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_CHANGE_EXT.TARGET_CARD_ID"]],
                ["VALIDATE_NOT_EMPTY", "$DATABASE_ID", "DO_CHANGE_EXT.DATABASE_ID"],
                ["VALIDATE_NOT_EMPTY", "$UPGRADE_NAME", "DO_CHANGE_EXT.UPGRADE_NAME"],
                ["VALIDATE_NOT_EMPTY", "$OPTION", "DO_CHANGE_EXT.OPTION"],
                ["VALIDATE_NOT_EMPTY", "$NAME_VALUE_LIST_ID", "DO_CHANGE_EXT.NAME_VALUE_LIST_ID"],
                ["VALIDATE_GE0", "$EXT_INDEX", "DO_CHANGE_EXT.EXT_INDEX"],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_CHANGE_EXT.LOG_EVENT"],
                ["VAR", "$PROMPT_PLAYER", ["NVL", "$ACTOR_PLAYER", "$TARGET_PLAYER"]],
                ["PAGING_PROMPT", "$PROMPT_PLAYER", "Change {{$UPGRADE_NAME}}", "$NAME_VALUE_LIST_ID", 0, "DO_CHANGE_EXT_CALLBACK", "$TARGET_PLAYER", "$TARGET_CARD_ID", ["JOIN_LIST", ["LIST", "$DATABASE_ID", "$UPGRADE_NAME", "$OPTION", "{{$EXT_INDEX}}", "{{$LOG_EVENT}}"], "|"]]
            ]
        },
        "DO_CHANGE_EXT_CALLBACK": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$ARGS", "$ACTOR_PLAYER", "$ITEM_NAME", "$ITEM_VALUE"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_CHANGE_EXT_CALLBACK.TARGET_PLAYER"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_CHANGE_EXT_CALLBACK.TARGET_CARD_ID"]],
                ["VALIDATE_NOT_EMPTY", "$ARGS", "DO_CHANGE_EXT_CALLBACK.ARGS"],
                ["VALIDATE_NOT_EMPTY", "$ITEM_NAME", "DO_CHANGE_EXT_CALLBACK.ITEM_NAME"],
                ["VALIDATE_NOT_NULL", "$ITEM_VALUE", "DO_CHANGE_EXT_CALLBACK.ITEM_VALUE"],
                ["VAR", "$EXTRA_ARGS", ["SPLIT_STRING", "$ARGS", "|"]],
                ["VAR", "$DATABASE_ID", "$EXTRA_ARGS.[0]"],
                ["VAR", "$UPGRADE_NAME", "$EXTRA_ARGS.[1]"],
                ["VAR", "$OPTION", "$EXTRA_ARGS.[2]"],
                ["VAR", "$EXT_INDEX", ["TO_INT", "$EXTRA_ARGS.[3]"]],
                ["VAR", "$LOG_EVENT", ["EQUAL", "$EXTRA_ARGS.[4]", "true"]],
                ["VALIDATE_NOT_EMPTY", "$DATABASE_ID", "DO_CHANGE_EXT_CALLBACK.DATABASE_ID"],
                ["VALIDATE_NOT_EMPTY", "$UPGRADE_NAME", "DO_CHANGE_EXT_CALLBACK.UPGRADE_NAME"],
                ["VALIDATE_NOT_EMPTY", "$OPTION", "DO_CHANGE_EXT_CALLBACK.OPTION"],
                ["VALIDATE_GE0", "$EXT_INDEX", "DO_CHANGE_EXT_CALLBACK.EXT_INDEX"],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_CHANGE_EXT_CALLBACK.LOG_EVENT"],
                ["VAR", "$OLD_VALUE", ["GET_EXT_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", "$EXT_INDEX"]],
                ["COND",
                    ["NOT_EQUAL", "$OLD_VALUE", "$ITEM_VALUE"],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "change {{$UPGRADE_NAME}} to {{$ITEM_NAME}}.", "changes {{$UPGRADE_NAME}} to {{$ITEM_NAME}}."],
                        ["SET_EXT_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "$OPTION", "$EXT_INDEX", "$ITEM_VALUE"],
                        ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                            ["EQUAL", "$CARD.cardOwner", "$TARGET_PLAYER"],
                            ["EQUAL", "$CARD.sides.A.databaseId", "$DATABASE_ID"]
                        ]]],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["DO_SPAWN_CUSTOMIZABLE", "$CARD.id", "$TARGET_PLAYER"]
                        ]]
                    ],
                    ["TRUE"],
                    ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "keep {{$UPGRADE_NAME}} at {{$ITEM_NAME}}.", "keeps {{$UPGRADE_NAME}} at {{$ITEM_NAME}}."]
                ]
            ]
        },
        "DO_RESET_CUSTOMIZABLE_CARD": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_RESET_CUSTOMIZABLE_CARD.TARGET_PLAYER"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_RESET_CUSTOMIZABLE_CARD.TARGET_CARD_ID"]],
                ["VALIDATE_NOT_EMPTY", "$DATABASE_ID", "DO_RESET_CUSTOMIZABLE_CARD.DATABASE_ID"],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_RESET_CUSTOMIZABLE_CARD.LOG_EVENT"],
                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "reset {{$TARGET_CARD.sides.A.name}}.", "resets {{$TARGET_CARD.sides.A.name}}."],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "0", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "0", 1, ""],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "1", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "1", 1, ""],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "2", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "2", 1, ""],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "3", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "3", 1, ""],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "4", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "4", 1, ""],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "5", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "5", 1, ""],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "6", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "6", 1, ""],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "7", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "7", 1, ""],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "8", 0, 0],
                ["SET_UPGRADE_VALUE", "$TARGET_PLAYER", "$DATABASE_ID", "8", 1, ""],
                ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                    ["EQUAL", "$CARD.cardOwner", "$TARGET_PLAYER"],
                    ["EQUAL", "$CARD.sides.A.databaseId", "$DATABASE_ID"]
                ]]],
                ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                    ["DO_SPAWN_CUSTOMIZABLE", "$CARD.id", "$TARGET_PLAYER"]
                ]]
            ]
        },
        "PAGING_PROMPT": {
            "args": ["$TARGET_PLAYER", "$MESSAGE", "$NAME_VALUE_LIST_ID", "$CURRENT_PAGE", "$CALLBACK_FUNCTION", "$SOME_PLAYER", "$SOME_CARD_ID", "$SOME_TEXT"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "PAGING_PROMPT.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$MESSAGE", "PAGING_PROMPT.MESSAGE"],
                ["VALIDATE_NOT_EMPTY", "$NAME_VALUE_LIST_ID", "PAGING_PROMPT.NAME_VALUE_LIST_ID"],
                ["VALIDATE_GE0", "$CURRENT_PAGE", "PAGING_PROMPT.CURRENT_PAGE"],
                ["VALIDATE_NOT_EMPTY", "$CALLBACK_FUNCTION", "PAGING_PROMPT.CALLBACK_FUNCTION"],
                ["VAR", "$NAME_VALUE_LIST", null],
                ["COND",
                    ["EQUAL", "$NAME_VALUE_LIST_ID", "ravenQuill"],
                    ["UPDATE_VAR", "$NAME_VALUE_LIST", ["GET_RAVEN_QUILL_OPTIONS_LIST"]],
                    ["EQUAL", "$NAME_VALUE_LIST_ID", "trait"],
                    ["UPDATE_VAR", "$NAME_VALUE_LIST", ["GET_TRAIT_OPTIONS_LIST"]],
                    ["EQUAL", "$NAME_VALUE_LIST_ID", "skill"],
                    ["UPDATE_VAR", "$NAME_VALUE_LIST", ["GET_SKILL_OPTIONS_LIST"]],
                    ["EQUAL", "$NAME_VALUE_LIST_ID", "slot"],
                    ["UPDATE_VAR", "$NAME_VALUE_LIST", ["GET_SLOT_OPTIONS_LIST"]],
                    ["EQUAL", "$NAME_VALUE_LIST_ID", "transfiguration"],
                    ["UPDATE_VAR", "$NAME_VALUE_LIST", ["GET_TRANSFIGURATION_OPTIONS_LIST"]]
                ],
                ["VALIDATE_NOT_NULL", "$NAME_VALUE_LIST", "PAGING_PROMPT.NAME_VALUE_LIST_ID"],
                ["VAR", "$LIST_LENGTH", ["LENGTH", "$NAME_VALUE_LIST"]],
                ["VAR", "$ITEM_COUNT", ["TO_INT", ["DIVIDE", "$LIST_LENGTH", 2]]],
                ["VAR", "$PAGES_COUNT", ["ADD", ["TO_INT", ["DIVIDE", "$ITEM_COUNT", 7]], ["INLINE_IF", ["GREATER_THAN", ["MODULO", "$ITEM_COUNT", 7], 0], 1, 0]]],
                ["VAR", "$MAX_PAGE", ["SUBTRACT", "$PAGES_COUNT", 1]],
                ["COND",
                    ["GREATER_THAN", "$CURRENT_PAGE", "$MAX_PAGE"],
                    ["UPDATE_VAR", "$CURRENT_PAGE", "$MAX_PAGE"]
                ],
                ["VAR", "$PREV_PAGE", ["SUBTRACT", "$CURRENT_PAGE", 1]],
                ["VAR", "$NEXT_PAGE", ["ADD", "$CURRENT_PAGE", 1]],
                ["VAR", "$START_INDEX", ["MULTIPLY", "$CURRENT_PAGE", 7]],
                ["VAR", "$END_INDEX", ["MIN2", ["ADD", "$START_INDEX", 7], "$ITEM_COUNT"]],
                ["VAR", "$INDEX", 0],
                ["PROMPT", "$TARGET_PLAYER", "pagingPrompt", ["FORMAT", "{0} ({1}/{2}).", "$MESSAGE", "$NEXT_PAGE", "$PAGES_COUNT"]],
                ["FOR_EACH_START_STOP_STEP", "$I", "$START_INDEX", "$END_INDEX", 1, [
                    ["VAR", "$NAME_INDEX", ["MULTIPLY", "$I", 2]],
                    ["VAR", "$VALUE_INDEX", ["ADD", "$NAME_INDEX", 1]],
                    ["VAR", "$LETTER", ["SUBSTRING", "1234567", "$INDEX", 1]],
                    ["PROMPT_ADD_OPTION", "$TARGET_PLAYER", "{{$NAME_VALUE_LIST.[$NAME_INDEX]}}.", "{{$LETTER}}", ["LIST", "{{$CALLBACK_FUNCTION}}", "{{$SOME_PLAYER}}", "{{$SOME_CARD_ID}}", "{{$SOME_TEXT}}", "{{$TARGET_PLAYER}}", "{{$NAME_VALUE_LIST.[$NAME_INDEX]}}", "{{$NAME_VALUE_LIST.[$VALUE_INDEX]}}"]],
                    ["INCREASE_VAR", "$INDEX", 1]
                ]],
                ["COND",
                    ["LESS_EQUAL", "$NEXT_PAGE", "$MAX_PAGE"],
                    ["PROMPT_ADD_OPTION", "$TARGET_PLAYER", "Next page.", "N", ["LIST", "PAGING_PROMPT_STR", "{{$TARGET_PLAYER}}", "{{$MESSAGE}}", "{{$NAME_VALUE_LIST_ID}}", "{{$NEXT_PAGE}}", "{{$CALLBACK_FUNCTION}}", "{{$SOME_PLAYER}}", "{{$SOME_CARD_ID}}", "{{$SOME_TEXT}}"]]
                ],
                ["COND",
                    ["GREATER_EQUAL", "$PREV_PAGE", 0],
                    ["PROMPT_ADD_OPTION", "$TARGET_PLAYER", "Previous page.", "P", ["LIST", "PAGING_PROMPT_STR", "{{$TARGET_PLAYER}}", "{{$MESSAGE}}", "{{$NAME_VALUE_LIST_ID}}", "{{$PREV_PAGE}}", "{{$CALLBACK_FUNCTION}}", "{{$SOME_PLAYER}}", "{{$SOME_CARD_ID}}", "{{$SOME_TEXT}}"]]
                ],
                ["PROMPT_ADD_OPTION", "$TARGET_PLAYER", "Cancel.", "X"]
            ]
        },
        "PAGING_PROMPT_STR": {
            "args": ["$TARGET_PLAYER", "$MESSAGE", "$NAME_VALUE_LIST_ID", "$CURRENT_PAGE", "$CALLBACK_FUNCTION", "$SOME_PLAYER", "$SOME_CARD_ID", "$SOME_TEXT"],
            "code": [
                ["PAGING_PROMPT", "$TARGET_PLAYER", "$MESSAGE", "$NAME_VALUE_LIST_ID", ["CALC", "{{$CURRENT_PAGE}}"], "$CALLBACK_FUNCTION", "$SOME_PLAYER", "$SOME_CARD_ID", "$SOME_TEXT"]
            ]
        },
        "GET_SKILL_OPTIONS_LIST": {
            "args": [],
            "code": [
                ["LIST", "None", "", "Willpower", "willpower", "Intellect", "intellect", "Combat", "combat", "Agility", "agility"]
            ]
        },
        "GET_SLOT_OPTIONS_LIST": {
            "args": [],
            "code": [
                ["LIST", "None", "", "Arcane", "0", "Ally", "1"]
            ]
        },
        "CALCULATOR_PROMPT": {
            "args": ["$TARGET_PLAYER", "$MESSAGE", "$MIN_VALUE", "$MAX_VALUE", "$CURRENT_VALUE", "$CALLBACK_FUNCTION", "$SOME_PLAYER", "$SOME_CARD_ID", "$SOME_TEXT"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "CALCULATOR_PROMPT.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$MESSAGE", "CALCULATOR_PROMPT.MESSAGE"],
                ["VALIDATE_GE0", "$MIN_VALUE", "CALCULATOR_PROMPT.MIN_VALUE"],
                ["VALIDATE_GE0", "$MAX_VALUE", "CALCULATOR_PROMPT.MAX_VALUE"],
                ["VALIDATE_GE0", "$CURRENT_VALUE", "CALCULATOR_PROMPT.CURRENT_VALUE"],
                ["VALIDATE_NOT_EMPTY", "$CALLBACK_FUNCTION", "CALCULATOR_PROMPT.CALLBACK_FUNCTION"],
                ["PROMPT", "$TARGET_PLAYER", "calculatorPrompt", ["FORMAT", "{0} ({1}-{2}): {3}.", "$MESSAGE", "$MIN_VALUE", "$MAX_VALUE", "$CURRENT_VALUE"]],
                ["PROMPT_ADD_OPTION", "$TARGET_PLAYER", "Clear.", "X", ["LIST", "CALCULATOR_PROMPT_STR", "{{$TARGET_PLAYER}}", "{{$MESSAGE}}", "{{$MIN_VALUE}}", "{{$MAX_VALUE}}", "0", "{{$CALLBACK_FUNCTION}}", "{{$SOME_PLAYER}}", "{{$SOME_CARD_ID}}", "{{$SOME_TEXT}}"]],
                ["FOR_EACH_START_STOP_STEP", "$I", 0, 10, 1, [
                    ["VAR", "$LETTER", ["SUBSTRING", "0123456789", "$I", 1]],
                    ["VAR", "$NEW_VALUE", ["ADD", ["MULTIPLY", "$CURRENT_VALUE", 10], "$I"]],
                    ["PROMPT_ADD_OPTION", "$TARGET_PLAYER", "{{$I}}", "{{$LETTER}}", ["LIST", "CALCULATOR_PROMPT_STR", "{{$TARGET_PLAYER}}", "{{$MESSAGE}}", "{{$MIN_VALUE}}", "{{$MAX_VALUE}}", "{{$NEW_VALUE}}", "{{$CALLBACK_FUNCTION}}", "{{$SOME_PLAYER}}", "{{$SOME_CARD_ID}}", "{{$SOME_TEXT}}"]]
                ]],
                ["COND",
                    ["AND",
                        ["GREATER_EQUAL", "$CURRENT_VALUE", "$MIN_VALUE"],
                        ["LESS_EQUAL", "$CURRENT_VALUE", "$MAX_VALUE"]
                    ],
                    ["PROMPT_ADD_OPTION", "$TARGET_PLAYER", "Accept.", "A", ["LIST", "{{$CALLBACK_FUNCTION}}", "{{$SOME_PLAYER}}", "{{$SOME_CARD_ID}}", "{{$SOME_TEXT}}", "{{$TARGET_PLAYER}}", "{{$CURRENT_VALUE}}"]]
                ]
            ]
        },
        "CALCULATOR_PROMPT_STR": {
            "args": ["$TARGET_PLAYER", "$MESSAGE", "$MIN_VALUE", "$MAX_VALUE", "$CURRENT_VALUE", "$CALLBACK_FUNCTION", "$SOME_PLAYER", "$SOME_CARD_ID", "$SOME_TEXT"],
            "code": [
                ["CALCULATOR_PROMPT", "$TARGET_PLAYER", "$MESSAGE", ["CALC", "{{$MIN_VALUE}}"], ["CALC", "{{$MAX_VALUE}}"], ["CALC", "{{$CURRENT_VALUE}}"], "$CALLBACK_FUNCTION", "$SOME_PLAYER", "$SOME_CARD_ID", "$SOME_TEXT"]
            ]
        }
    },
    "automation": {
        "cards": {
            "upg09021": { //Hunter's Armor Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09021Prompt", "$THIS.cardOwner", "$THIS.id", "09021"]
                    ]
                }
            },
            "upg09022": { //Runic Axe Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09022Prompt", "$THIS.cardOwner", "$THIS.id", "09022"]
                    ]
                }
            },
            "upg09023": { //Custom Modifications Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09023Prompt", "$THIS.cardOwner", "$THIS.id", "09023"]
                    ]
                }
            },
            "upg09040": { //Alchemical Distillation Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09040Prompt", "$THIS.cardOwner", "$THIS.id", "09040"]
                    ]
                }
            },
            "upg09041": { //Empirical Hypothesis Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09041Prompt", "$THIS.cardOwner", "$THIS.id", "09041"]
                    ]
                }
            },
            "upg09042": { //The Raven Quill Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09042Prompt", "$THIS.cardOwner", "$THIS.id", "09042"]
                    ]
                }
            },
            "upg09059": { //Damning Testimony Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09059Prompt", "$THIS.cardOwner", "$THIS.id", "09059"]
                    ]
                }
            },
            "upg09060": { //Friends in Low Places Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09060Prompt", "$THIS.cardOwner", "$THIS.id", "09060"]
                    ]
                }
            },
            "upg09061": { //Honed Instinct Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09061Prompt", "$THIS.cardOwner", "$THIS.id", "09061"]
                    ]
                }
            },
            "upg09079": { //Living Ink Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09079Prompt", "$THIS.cardOwner", "$THIS.id", "09079"]
                    ]
                }
            },
            "upg09080": { //Summoned Servitor Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09080Prompt", "$THIS.cardOwner", "$THIS.id", "09080"]
                    ]
                }
            },
            "upg09081": { //Power Word Upgrades
                "ability" : {
                    "A": [
                        ["VAR", "$TABOO_ID", ["GET_TABOO_VALUE", "$THIS.cardOwner"]],
                        ["COND",
                            ["GREATER_EQUAL", "$TABOO_ID", 6],
                            ["PROMPT", "$PLAYER_N", "upg09081T6Prompt", "$THIS.cardOwner", "$THIS.id", "09081"],
                            ["TRUE"],
                            ["PROMPT", "$PLAYER_N", "upg09081T0Prompt", "$THIS.cardOwner", "$THIS.id", "09081"]
                        ]
                    ]
                }
            },
            "upg09099": { //Pocket Multi Tool Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09099Prompt", "$THIS.cardOwner", "$THIS.id", "09099"]
                    ]
                }
            },
            "upg09100": { //Makeshift Trap Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09100Prompt", "$THIS.cardOwner", "$THIS.id", "09100"]
                    ]
                }
            },
            "upg09101": { //Grizzled Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09101Prompt", "$THIS.cardOwner", "$THIS.id", "09101"]
                    ]
                }
            },
            "upg09119": { //Hyperphysical Shotcaster Upgrades
                "ability" : {
                    "A": [
                        ["PROMPT", "$PLAYER_N", "upg09119Prompt", "$THIS.cardOwner", "$THIS.id", "09119"]
                    ]
                }
            }
        }
    },
    "prompts": {
        "selectTabooPrompt": {
            "args": [],
            "message": "Pick Taboo version used.",
            "options": [
                {
                    "label": "Taboo 2.3 (Oct 23, 2024)",
                    "hotkey": "1",
                    "code": [
                        ["DO_SET_TABOO_VALUE", "$PLAYER_N", 8, "2.3", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Taboo 2.1 (Oct 23, 2024)",
                    "hotkey": "2",
                    "code": [
                        ["DO_SET_TABOO_VALUE", "$PLAYER_N", 6, "2.1", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "None",
                    "hotkey": "3",
                    "code": [
                        ["DO_SET_TABOO_VALUE", "$PLAYER_N", 0, "None", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "selectPipsPrompt": {
            "args": ["$UPGRADE_NAME"],
            "message": "Change {{$UPGRADE_NAME}}.",
            "options": [

            ]
        },
        "pagingPrompt": {
            "args": ["$MESSAGE"],
            "message": "{{$MESSAGE}}",
            "options": [

            ]
        },
        "calculatorPrompt": {
            "args": ["$MESSAGE"],
            "message": "{{$MESSAGE}}",
            "options": [

            ]
        },
        "upg09021Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Enchanted.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Enchanted", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Protective Runes.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Protective Runes", "1", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Durable.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Durable", "2", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Hallowed.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Hallowed", "3", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Lightweight.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Lightweight", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Hexdrinker.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Hexdrinker", "5", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Armor of Thorns.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Armor of Thorns", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09022Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Heirloom.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Heirloom", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Inscription of Glory.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Inscription of Glory", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Inscription of the Elders.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Inscription of the Elders", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Inscription of the Hunt.",
                    "hotkey": "4",
                    "code": [
                        ["VAR", "$TABOO_ID", ["GET_TABOO_VALUE", "$TARGET_PLAYER"]],
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Inscription of the Hunt", "3", 0, ["INLINE_IF", ["GREATER_EQUAL", "$TABOO_ID", 6], 2, 1], true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Inscription of Fury.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Inscription of Fury", "4", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Ancient Power.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Ancient Power", "5", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Saga.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Saga", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Scriptweaver.",
                    "hotkey": "8",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Scriptweaver", "7", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09023Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Notched Sight.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Notched Sight", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Extended Stock.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Extended Stock", "1", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Counterbalance.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Counterbalance", "2", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Leather Grip.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Leather Grip", "3", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Extended Magazine.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Extended Magazine", "4", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Quicksilver Bullets.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Quicksilver Bullets", "5", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09040Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Mending Distillate.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Mending Distillate", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Calming Distillate.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Calming Distillate", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Enlightening Distillate.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Enlightening Distillate", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Quickening Distillate.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Quickening Distillate", "3", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Refined.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Refined", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Empowered.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Empowered", "5", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Perfected.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Perfected", "6", 0, 5, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09041Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Pessimistic Outlook.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Pessimistic Outlook", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Trial and Error.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Trial and Error", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Independent Variable.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Independent Variable", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Field Research.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Field Research", "3", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Peer Review.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Peer Review", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Research Grant.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Research Grant", "5", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Irrefutable Proof.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Irrefutable Proof", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Alternative Hypothesis.",
                    "hotkey": "8",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Alternative Hypothesis", "7", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09042Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change named asset #1.",
                    "hotkey": "A",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "named Tome or Spell asset #1", "0", 0, "ravenQuill", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Living Quill.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Living Quill", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Spectral Binding.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Spectral Binding", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Mystic Vane.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Mystic Vane", "3", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Endless Inkwell.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Endless Inkwell", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change named asset #2.",
                    "hotkey": "B",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "named Tome or Spell asset #2", "4", 0, "ravenQuill", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change named asset #3.",
                    "hotkey": "C",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "named Tome or Spell asset #3", "4", 1, "ravenQuill", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Energy Sap.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Energy Sap", "5", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Interwoven Ink.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Interwoven Ink", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Supernatural Record.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Supernatural Record", "7", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09059Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Search Warrant.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Search Warrant", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Fabricated Evidence.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Fabricated Evidence", "1", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Blackmail.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Blackmail", "2", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Extort.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Extort", "3", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Surveil.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Surveil", "4", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Expose.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Expose", "5", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09060Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change chosen trait #1.",
                    "hotkey": "A",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen trait #1", "0", 0, "trait", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Helpful.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Helpful", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Versatile.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Versatile", "2", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change chosen trait #2.",
                    "hotkey": "B",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen trait #2", "2", 0, "trait", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Bolstering.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Bolstering", "3", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Clever.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Clever", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Prompt.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Prompt", "5", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Experienced.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Experienced", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Swift.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Swift", "7", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09061Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Reflex Response.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Reflex Response", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Situational Awareness.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Situational Awareness", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Killer Instinct.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Killer Instinct", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Gut Reaction.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Gut Reaction", "3", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Muscle Memory.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Muscle Memory", "4", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Sharpened Talent.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Sharpened Talent", "5", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Impulse Control.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Impulse Control", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Force of Habit.",
                    "hotkey": "8",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Force of Habit", "7", 0, 5, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09079Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change chosen skill #1.",
                    "hotkey": "A",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen skill #1", "0", 0, "skill", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Shifting Ink.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Shifting Ink", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Subtle Depiction.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Subtle Depiction", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Imbued Ink.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Imbued Ink", "3", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Eldritch Ink #1.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Eldritch Ink #1", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change chosen skill #2.",
                    "hotkey": "B",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen skill #2", "4", 0, "skill", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Eldritch Ink #2.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Eldritch Ink #2", "5", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change chosen skill #3.",
                    "hotkey": "C",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen skill #3", "5", 0, "skill", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Macabre Depiction.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Macabre Depiction", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Vibrancy.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Vibrancy", "7", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09080Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Armored Carapace.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Armored Carapace", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Claws that Catch.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Claws that Catch", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Jaws that Snatch.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Jaws that Snatch", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Eyes of Flame.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Eyes of Flame", "3", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Wings of Night.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Wings of Night", "4", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Dominance.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Dominance", "5", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change circled slot.",
                    "hotkey": "A",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "circled slot", "5", 0, "slot", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Dreaming Call.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Dreaming Call", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Dæmonic Influence.",
                    "hotkey": "8",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Dæmonic Influence", "7", 0, 5, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09081T6Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Betray.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Betray", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Cower.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Cower", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Confess.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Confess", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Distract.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Distract", "3", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Greater Control.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Greater Control", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Bonded.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Bonded", "5", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Tonguetwister.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Tonguetwister", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Thrice Spoken.",
                    "hotkey": "8",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Thrice Spoken", "7", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09081T0Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Betray.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Betray", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Mercy.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Mercy", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Confess.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Confess", "2", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Distract.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Distract", "3", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Greater Control.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Greater Control", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Bonded.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Bonded", "5", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Tonguetwister.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Tonguetwister", "6", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Thrice Spoken.",
                    "hotkey": "8",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Thrice Spoken", "7", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09099Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Detachable.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Detachable", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Pry Bar.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Pry Bar", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Sharpened Knife.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Sharpened Knife", "2", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Signal Mirror.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Signal Mirror", "3", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Magnifying Lens.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Magnifying Lens", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Lucky Charm.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Lucky Charm", "5", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Spring-Loaded.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Spring-Loaded", "6", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09100Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Improved Timer.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Improved Timer", "0", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Tripwire.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Tripwire", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Simple.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Simple", "2", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Poisonous.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Poisonous", "3", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Remote Configuration.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Remote Configuration", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Net.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Net", "5", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Explosive Device.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Explosive Device", "6", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09101Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change chosen trait #1.",
                    "hotkey": "A",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen trait #1", "0", 0, "trait", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change chosen trait #2.",
                    "hotkey": "B",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen trait #2", "0", 1, "trait", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Specialist #1.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Specialist #1", "1", 0, 1, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change chosen trait #3.",
                    "hotkey": "C",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen trait #3", "1", 0, "trait", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Specialist #2.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Specialist #2", "2", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change chosen trait #4.",
                    "hotkey": "D",
                    "code": [
                        ["DO_CHANGE_EXT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "chosen trait #4", "2", 0, "trait", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Nemesis.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Nemesis", "3", 0, 3, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Mythos-Hardened.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Mythos-Hardened", "4", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Always Prepared.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Always Prepared", "5", 0, 5, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        },
        "upg09119Prompt": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID"],
            "message": "Change {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}}.",
            "options": [
                {
                    "label": "Change Railshooter.",
                    "hotkey": "1",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Railshooter", "0", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Telescanner.",
                    "hotkey": "2",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Telescanner", "1", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Translocator.",
                    "hotkey": "3",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Translocator", "2", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Realitycollapser.",
                    "hotkey": "4",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Realitycollapser", "3", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Matterweaver.",
                    "hotkey": "5",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Matterweaver", "4", 0, 2, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Aetheric Link.",
                    "hotkey": "6",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Aetheric Link", "5", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Change Empowered Configuration.",
                    "hotkey": "7",
                    "code": [
                        ["DO_CHANGE_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", "Empowered Configuration", "6", 0, 4, true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Reset.",
                    "hotkey": "R",
                    "code": [
                        ["DO_RESET_CUSTOMIZABLE_CARD", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$DATABASE_ID", true, "$PLAYER_N"]
                    ]
                },
                {
                    "label": "Cancel.",
                    "hotkey": "X"
                }
            ]
        }
    },
    "labels": {
        "selectTabooMenu": {
            "English": "Select Taboo"
        }
    }
}