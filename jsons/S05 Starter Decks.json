{
    "preBuiltDecks": {
        "Carolyn Fern Starter Deck": {
            "label": "Carolyn Fern Starter Deck",
            "cards": [
                {"databaseId": "05001", "quantity": 1, "loadGroupId": "playerNInvestigator"},
                {"databaseId": "01000", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01019", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01020", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01021", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01023", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01030", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01031", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01032", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01033", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01034", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01035", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01036", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01037", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01038", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01039", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01058", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01060", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01064", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01065", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01067", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01086", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01087", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01088", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01090", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05007", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05008", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05021", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05022", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05024", "quantity": 1, "loadGroupId": "playerNDeck"}
            ]
        },
        "Joe Diamond Starter Deck": {
            "label": "Joe Diamond Starter Deck",
            "cards": [
                {"databaseId": "05002", "quantity": 1, "loadGroupId": "playerNInvestigator"},
                {"databaseId": "01000", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01016", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01017", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01018", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01019", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01020", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01021", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01022", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01023", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01024", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01025", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01030", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01031", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01032", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01033", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01034", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01035", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01036", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01037", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01038", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01039", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01086", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01087", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01088", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01090", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01091", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05009", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05010", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05020", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05021", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05022", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05024", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05025", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05026", "quantity": 2, "loadGroupId": "playerNDeck"}
            ]
        },
        "Preston Fairmont Starter Deck": {
            "label": "Preston Fairmont Starter Deck",
            "cards": [
                {"databaseId": "05003", "quantity": 1, "loadGroupId": "playerNInvestigator"},
                {"databaseId": "01000", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01048", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01049", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01050", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01051", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01052", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01053", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01072", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01073", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01074", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01075", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01076", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01077", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01078", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01079", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01080", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01081", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01086", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01087", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01088", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01093", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05011", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05012", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05028", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05029", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05030", "quantity": 2, "loadGroupId": "playerNDeck"}
            ]
        },
        "Diana Stanley Starter Deck": {
            "label": "Diana Stanley Starter Deck",
            "cards": [
                {"databaseId": "05004", "quantity": 1, "loadGroupId": "playerNInvestigator"},
                {"databaseId": "01000", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01016", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01017", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01018", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01020", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01021", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01022", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01023", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01024", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01025", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01058", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01059", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01060", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01061", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01062", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01063", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01064", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01065", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01066", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01067", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01086", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01087", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01088", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01091", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05013", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05014", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05015", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05020", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05021", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05032", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05033", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05034", "quantity": 1, "loadGroupId": "playerNDeck"}
            ]
        },
        "Rita Young Starter Deck": {
            "label": "Rita Young Starter Deck",
            "cards": [
                {"databaseId": "05005", "quantity": 1, "loadGroupId": "playerNInvestigator"},
                {"databaseId": "01000", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01072", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01073", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01074", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01075", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01076", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01077", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01078", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01079", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01080", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01081", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01086", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01087", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01088", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01089", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01090", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01091", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01092", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01093", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05016", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05017", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05036", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05037", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05038", "quantity": 2, "loadGroupId": "playerNDeck"}
            ]
        },
        "Marie Lambeau Starter Deck": {
            "label": "Marie Lambeau Starter Deck",
            "cards": [
                {"databaseId": "05006", "quantity": 1, "loadGroupId": "playerNInvestigator"},
                {"databaseId": "01000", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01058", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01059", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01060", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01061", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01062", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01063", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01064", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01065", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01066", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01067", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "01086", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01087", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01088", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01089", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "01093", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05018", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05019", "quantity": 1, "loadGroupId": "playerNDeck"},
                {"databaseId": "05032", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05033", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05034", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05037", "quantity": 2, "loadGroupId": "playerNDeck"},
                {"databaseId": "05038", "quantity": 2, "loadGroupId": "playerNDeck"}
            ]
        }
    },
    "automation": {
        "cards": {
            "05002": { //Joe Diamond: The Private Investigator
                "rules": {
                    "05002a": { //During the setup of each scenario, you must choose 11 Insight events from your deck (one of which must be Unsolved Case) and shuffle them into a separate "hunch deck".
                        "type": "trigger",
                        "priority": 9, //"During the setup" (Joe Diamond) must happen before "Before you draw your opening hand" (Stick to the Plan)
                        "listenTo": ["/playerData/*/arkhamPlayerEventBeforeDraw"],
                        "condition": ["TRIGGER_ON_PLAYER_EVENT", "$TARGET.id", "$THIS", "BeforeDraw"],
                        "then": [
                            ["CONSUME_PLAYER_EVENT", "$TARGET.id", "$THIS", "BeforeDraw"],
                            ["DO_FSYSLOG", "{0:C}: {1:P}, you must choose 11 Insight events from your deck (one of which must be Unsolved Case) and shuffle them into a separate “hunch deck”.", ["LIST", "$THIS", "$THIS.controller"]],
                            ["VAR", "$TARGET_PLAYER", "$THIS.controller"],
                            ["INCREASE_VAL", "/playerData/$TARGET_PLAYER/arkhamShowExtraDeck", 1],
                            ["VAR", "$DECK_GROUP_ID", ["GET_CONTROLLER_DECK", "$TARGET_PLAYER"]],
                            ["VAR", "$EXTRA_GROUP_ID", ["GET_CONTROLLER_EXTRA_DECK", "$TARGET_PLAYER"]],
                            ["VAR", "$HAND_GROUP_ID", ["GET_CONTROLLER_HAND", "$TARGET_PLAYER"]],
                            ["VAR", "$UNSOLVED_CASE", ["ONE_CARD", "$CARD", ["AND",
                                ["EQUAL", "$CARD.groupId", "$DECK_GROUP_ID"],
                                ["EQUAL", "$CARD.sides.A.databaseId", "05010"]
                            ]]],
                            ["COND",
                                ["NOT_EQUAL", "$UNSOLVED_CASE", null],
                                ["MOVE_CARD", "$UNSOLVED_CASE.id", "$EXTRA_GROUP_ID", -1]
                            ],
                            ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                                ["EQUAL", "$CARD.groupId", "$DECK_GROUP_ID"],
                                ["EQUAL", "$CARD.sides.A.type", "Event"],
                                ["IN_STRING", "$CARD.sides.A.traits", "Insight."]
                            ]]],
                            ["COND",
                                ["LESS_EQUAL", ["LENGTH", "$SELECTED_CARDS"], 10],
                                [
                                    ["DO_FSYSLOG", "{0:P} places Insight events in their “hunch deck”.", ["LIST", "$TARGET_PLAYER"]],
                                    ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                                        ["MOVE_CARD", "$CARD.id", "$EXTRA_GROUP_ID", -1]
                                    ]],
                                    ["DO_SHUFFLE_GROUP", "$TARGET_PLAYER", "$EXTRA_GROUP_ID", true, null],
                                    ["DO_SHUFFLE_GROUP", "$TARGET_PLAYER", "$DECK_GROUP_ID", true, null],
                                    ["PLAYER_EVENT_LOOP", "$TARGET_PLAYER", "BeforeDraw"]
                                ],
                                ["TRUE"],
                                [
                                    ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                                        ["MOVE_CARD", "$CARD.id", "$HAND_GROUP_ID", -1]
                                    ]],
                                    ["PROMPT", "$TARGET_PLAYER", "decideAboutJoeDiamondHand", ["DO_FORMAT_STRING", "{0} Insight event{0:S}", ["LIST", ["SUBTRACT", 11, ["LENGTH", "$GROUP_BY_ID.$EXTRA_GROUP_ID.stackIds"]]]]]
                                ]
                            ]
                        ]
                    },
                    "05002b": { //Forced - When the investigation phase begins: Reveal the top card of your hunch deck. Until the end of the phase, you may play that card as if it were in your hand, at -2 cost. If it is still revealed at the end of the phase, shuffle it back into your hunch deck.
                        "type": "trigger",
                        "priority": 10,
                        "listenTo": ["/stepId"],
                        "condition": ["AND",
                            ["EQUAL", "$GAME.stepId", "I1"],
                            ["EQUAL", "$THIS.inPlay", true],
                            ["EQUAL", ["GET_JOE_DIAMOND_EXTRA_DECK_TOP_CARD_SIDE", "$THIS"], "B"]
                        ],
                        "then": [
                            ["DO_FSYSLOG", "{0:C}: {1:P}, reveal the top card of your hunch deck. Until the end of the phase, you may play that card as if it were in your hand, at -2 cost.", ["LIST", "$THIS", "$THIS.controller"]],
                            ["VAR", "$EXTRA_DECK_ID", ["GET_CONTROLLER_EXTRA_DECK", "$THIS.controller"]],
                            ["VAR", "$TOP_CARD", ["GET_TOP_CARD", "$EXTRA_DECK_ID"]],
                            ["SET", "/cardById/$TOP_CARD.id/currentSide", "A"]
                        ]
                    },
                    "05002c": { //Forced - When the investigation phase begins: Reveal the top card of your hunch deck. Until the end of the phase, you may play that card as if it were in your hand, at -2 cost. If it is still revealed at the end of the phase, shuffle it back into your hunch deck.
                        "type": "trigger",
                        "priority": 10,
                        "listenTo": ["/stepId"],
                        "condition": ["AND",
                            ["EQUAL", "$GAME.stepId", "I3"],
                            ["EQUAL", "$THIS.inPlay", true],
                            ["EQUAL", ["GET_JOE_DIAMOND_EXTRA_DECK_TOP_CARD_SIDE", "$THIS"], "A"]
                        ],
                        "then": [
                            ["DO_FSYSLOG", "{0:C}: {1:P}, shuffle the revealed top card of your hunch deck back into your hunch deck.", ["LIST", "$THIS", "$THIS.controller"]],
                            ["VAR", "$EXTRA_DECK_ID", ["GET_CONTROLLER_EXTRA_DECK", "$THIS.controller"]],
                            ["VAR", "$TOP_CARD", ["GET_TOP_CARD", "$EXTRA_DECK_ID"]],
                            ["SET", "/cardById/$TOP_CARD.id/currentSide", "B"],
                            ["DO_SHUFFLE_GROUP", "$THIS.controller", "$EXTRA_DECK_ID", true, null]
                        ]
                    }
                }
            },
            "05004": { //Diana Stanley: The Redeemed Cultist
                "rules": {
                    "05004a": { //Diana Stanley gets +1 willpower for each card beneath her.
                        "type": "trigger",
                        "priority": 10,
                        "listenTo": ["/cardById/$THIS_ID/inPlay", "/cardById/$THIS_ID/controller", "/cardById/$THIS_ID/attachedCount"],
                        "condition": ["CAN_CHANGE_SKILL_BONUS", "$THIS", ["GET_DIANA_STANLEY_BONUS", "$THIS"], "$THIS.inPlay"],
                        "then": [
                            ["DO_CHANGE_SKILL_BONUS", "$THIS", ["LIST", "skillWillpower"], ["GET_DIANA_STANLEY_BONUS", "$THIS"], "$THIS.inPlay", null, null]
                        ]
                    }
                }
            },
            "05276": { //Studious
                "rules": {
                    "05276a": { //You begin each game with 1 additional card in your opening hand.
                        "type": "trigger",
                        "priority": 10,
                        "listenTo": ["/cardById/$THIS_ID/inPlay", "/cardById/$THIS_ID/controller"],
                        "condition": ["CAN_CHANGE_CONTROLLER_BONUS", "$THIS", "arkhamStartingCardsMod", 1, "$THIS.inPlay"],
                        "then": [
                            ["DO_CHANGE_CONTROLLER_BONUS", "$THIS", "arkhamStartingCardsMod", 1, "$THIS.inPlay", "you begin each game with 1 additional card in your opening hand.", null]
                        ]
                    }
                }
            }
        }
    },
    "functions": {
        "GET_JOE_DIAMOND_EXTRA_DECK_TOP_CARD_SIDE": {
            "args": ["$THIS"],
            "code": [
                ["VAR", "$TOP_CARD", ["GET_TOP_CARD", ["GET_CONTROLLER_EXTRA_DECK", "$THIS.controller"]]],
                ["COND",
                    ["EQUAL", "$TOP_CARD", null],
                    null,
                    ["TRUE"],
                    "$TOP_CARD.currentSide"
                ]
            ]
        },
        "DO_PLACE_INSIGHT_EVENTS_IN_HUNCH_DECK": {
            "args": ["$TARGET_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_PLACE_INSIGHT_EVENTS_IN_HUNCH_DECK.TARGET_PLAYER"],
                ["VAR", "$DECK_GROUP_ID", ["GET_CONTROLLER_DECK", "$TARGET_PLAYER"]],
                ["VAR", "$EXTRA_GROUP_ID", ["GET_CONTROLLER_EXTRA_DECK", "$TARGET_PLAYER"]],
                ["VAR", "$HAND_GROUP_ID", ["GET_CONTROLLER_HAND", "$TARGET_PLAYER"]],
                ["VAR", "$SELECTED_CARDS", ["GET_TARGETED_CARDS_IN_GROUP", "$HAND_GROUP_ID", "$TARGET_PLAYER"]],
                ["DO_CLEAR_TARGETED_FROM_LIST", "$SELECTED_CARDS", "$TARGET_PLAYER"],
                ["COND",
                    ["GREATER_THAN", ["LENGTH", "$SELECTED_CARDS"], 0],
                    [
                        ["DO_FLOG", "{0:P} places Insight events in their “hunch deck”.", ["LIST", "$TARGET_PLAYER"]],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["COND",
                                ["AND",
                                    ["EQUAL", "$CARD.sides.A.type", "Event"],
                                    ["IN_STRING", "$CARD.sides.A.traits", "Insight."],
                                    ["LESS_THAN", ["LENGTH", "$GROUP_BY_ID.$EXTRA_GROUP_ID.stackIds"], 11]
                                ],
                                ["MOVE_CARD", "$CARD.id", "$EXTRA_GROUP_ID", -1]
                            ]
                        ]]
                    ]
                ],
                ["COND",
                    ["AND",
                        ["LESS_THAN", ["LENGTH", "$GROUP_BY_ID.$EXTRA_GROUP_ID.stackIds"], 11],
                        ["GREATER_THAN", ["LENGTH", "$GROUP_BY_ID.$HAND_GROUP_ID.stackIds"], 0]
                    ],
                    ["PROMPT", "$TARGET_PLAYER", "decideAboutJoeDiamondHand", ["DO_FORMAT_STRING", "{0} Insight event{0:S}", ["LIST", ["SUBTRACT", 11, ["LENGTH", "$GROUP_BY_ID.$EXTRA_GROUP_ID.stackIds"]]]]],
                    ["TRUE"],
                    [
                        ["DO_SHUFFLE_GROUP", "$TARGET_PLAYER", "$EXTRA_GROUP_ID", true, null],
                        ["DO_SHUFFLE_GROUP_INTO_GROUP", "$TARGET_PLAYER", "$HAND_GROUP_ID", "$DECK_GROUP_ID", true, null],
                        ["PLAYER_EVENT_LOOP", "$TARGET_PLAYER", "BeforeDraw"]
                    ]
                ]
            ]
        },
        "GET_DIANA_STANLEY_BONUS": {
            "args": ["$THIS"],
            "code": [
                ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                    ["EQUAL", "$CARD.parentCardId", "$THIS.id"],
                    ["NOT_EQUAL", "$CARD.id", "$THIS.id"],
                    ["EQUAL", "$CARD.attachmentDirection", "behind"]
                ]]],
                ["ADD", 1, ["LENGTH", "$SELECTED_CARDS"]]
            ]
        }
    },
    "prompts": {
        "decideAboutJoeDiamondHand": {
            "args": ["$MESSAGE"],
            "message": "Target cards in hand. First {{$MESSAGE}} will be placed in your “hunch deck”.",
            "options": [
                {
                    "label": "Proceed.",
                    "hotkey": "P",
                    "code": [
                        ["DO_PLACE_INSIGHT_EVENTS_IN_HUNCH_DECK", "$PLAYER_N"]
                    ]
                }
            ]
        }
    }
}