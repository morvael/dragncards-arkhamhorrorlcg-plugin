{
    "actionLists": {
        "shuffleIntoDeck": [
            ["MOVE_CARD", "$ACTIVE_CARD_ID", "$ACTIVE_CARD.deckGroupId", 0],
            ["VAR", "$GROUP_ID", "$ACTIVE_CARD.deckGroupId"],
            ["SHUFFLE_GROUP", "$GROUP_ID"],
            ["LOG", "{{$ALIAS_N}} shuffled {{$ACTIVE_FACE.name}} into {{$GROUP_BY_ID.$GROUP_ID.label}}."]
        ]
    },
    "functions": {
        "DISCARD_N_RANDOM_CARDS_FROM_HAND": {
            "args": ["$PLAYER_I", "$NUMBER"],
            "code": [
                ["VAR", "$SELECTED_CARDS", ["CHOOSE_N", "$GROUP_BY_ID.{{$PLAYER_I}}Hand.parentCards", "$NUMBER"]],
                ["COND",
                    ["GREATER_THAN", ["LENGTH", "$SELECTED_CARDS"], 0],
                    [
                        ["VAR", "$ALIAS_I", ["GET_ALIAS", "$PLAYER_I"]],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["LOG", "{{$ALIAS_I}} discards {{$CARD.sides.A.name}}."],
                            ["MOVE_CARD", "$CARD.id", "{{$PLAYER_I}}Discard", 0]
                        ]]
                    ]
                ]
            ]
        }
    },
    "labels": {
        "shuffleIntoOwnersDeck": {
            "English": "Shuffle Into Owners Deck"
        }
    }    
}