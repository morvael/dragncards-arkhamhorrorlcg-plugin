{
    "actionLists": {
        "exhaustCard": [
            ["DO_EXHAUST_CARD", "$ACTIVE_CARD_ID", true, "$PLAYER_N"]
        ],
        "readyCard": [
            ["DO_READY_CARD", "$ACTIVE_CARD_ID", true, "$PLAYER_N"]
        ]
    },
    "functions": {
        "DO_EXHAUST_CARD": {
            "args": ["$TARGET_CARD_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VAR", "$TARGET_CARD", "$CARD_BY_ID.$TARGET_CARD_ID"],
                ["COND",
                    ["NOT_EQUAL", "$TARGET_CARD", null],
                    ["COND",
                        ["EQUAL", "$TARGET_CARD.currentFace.type", "MiniInvestigator"],
                        ["COND",
                            ["EQUAL", "$TARGET_CARD.currentSide", "A"],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "exhausts {{$TARGET_CARD.currentFace.name}}.", "{{$TARGET_CARD.currentFace.name}} is exhausted."],
                                ["DO_FLIP_FACEDOWN", "$TARGET_CARD_ID", false, null]
                            ]
                        ],
                        ["TRUE"],
                        ["COND",
                            ["EQUAL", "$TARGET_CARD.rotation", 0],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "exhausts {{$TARGET_CARD.currentFace.name}}.", "{{$TARGET_CARD.currentFace.name}} is exhausted."],
                                ["SET", "/cardById/$TARGET_CARD_ID/rotation", 90]
                            ]
                        ]
                    ]
                ]
            ]
        },
        "DO_READY_CARD": {
            "args": ["$TARGET_CARD_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VAR", "$TARGET_CARD", "$CARD_BY_ID.$TARGET_CARD_ID"],
                ["COND",
                    ["NOT_EQUAL", "$TARGET_CARD", null],
                    ["COND",
                        ["EQUAL", "$TARGET_CARD.currentFace.type", "MiniInvestigator"],
                        ["COND",
                            ["NOT_EQUAL", "$TARGET_CARD.currentSide", "A"],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "readies {{$TARGET_CARD.currentFace.name}}.", "{{$TARGET_CARD.currentFace.name}} is readied."],
                                ["DO_FLIP_FACEUP", "$TARGET_CARD_ID", false, null]
                            ]
                        ],
                        ["TRUE"],
                        ["COND",
                            ["NOT_EQUAL", "$TARGET_CARD.rotation", 0],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "readies {{$TARGET_CARD.currentFace.name}}.", "{{$TARGET_CARD.currentFace.name}} is readied."],
                                ["SET", "/cardById/$TARGET_CARD_ID/rotation", 0]
                            ]
                        ]
                    ]
                ]
            ]
        }
    },
    "labels": {
        "exhaustCard": {
            "English": "Exhaust"
        },
        "readyCard": {
            "English": "Ready"
        }
    }
}