{
    "functions": {
        "DO_CREATE_CARDS": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_NAME", null],
                        ["NOT_EQUAL", "$TARGET_DATABASE_ID", null],
                        ["NOT_EQUAL", "$TARGET_QUANTITY", null],
                        ["GREATER_THAN", "$TARGET_QUANTITY", 0],
                        ["NOT_EQUAL", "$TARGET_GROUP_ID", null]
                    ],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "load {{$TARGET_QUANTITY}}x {{$TARGET_NAME}} into {{$GROUP_BY_ID.$TARGET_GROUP_ID.label}}.", "loads {{$TARGET_QUANTITY}}x {{$TARGET_NAME}} into {{$GROUP_BY_ID.$TARGET_GROUP_ID.label}}."],
                        ["VAR", "$LOAD_LIST_ITEM", ["PROCESS_MAP", {"databaseId": "$TARGET_DATABASE_ID", "quantity": "$TARGET_QUANTITY", "loadGroupId": "$TARGET_GROUP_ID"}]],
                        ["LOAD_CARDS", ["LIST", "$LOAD_LIST_ITEM"]]
                    ]
                ]
            ]
        },
        "DO_CREATE_CARDS_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_CREATE_CARDS", "$GAME.firstPlayer", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_CREATE_STORY_CARD_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_INDEX", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_CREATE_CARDS_SCN", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1, "$TARGET_GROUP_ID"],
                ["VAR", "$CREATED_CARD_ID", "{{$GAME.lastLoadedCardIds.[0]}}"],
                ["MOVE_CARD", "$CREATED_CARD_ID", "$TARGET_GROUP_ID", "$TARGET_INDEX", 0, {"allowFlip": false}]
            ]
        },
        "DO_CREATE_DECK_CARDS_SCN": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_QUANTITY"],
            "code": [
                ["VAR", "$TARGET_PLAYER_DECK", ["GET_CONTROLLER_DECK", "$TARGET_PLAYER"]],
                ["DO_CREATE_CARDS_SCN", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_QUANTITY", "$TARGET_PLAYER_DECK"],
                ["DO_SHUFFLE_GROUP", "$TARGET_PLAYER", "$TARGET_PLAYER_DECK", true, null]
            ]
        },
        "DO_CREATE_DECK_MISSING_CARD_SCN": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_MAX_QUANTITY"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_CREATE_DECK_MISSING_CARD_SCN.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_CREATE_DECK_MISSING_CARD_SCN.TARGET_NAME"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_DATABASE_ID", "DO_CREATE_DECK_MISSING_CARD_SCN.TARGET_DATABASE_ID"],
                ["VALIDATE_GT0", "$TARGET_MAX_QUANTITY", "DO_CREATE_DECK_MISSING_CARD_SCN.TARGET_MAX_QUANTITY"],
                ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                    ["EQUAL", "$CARD.sides.A.databaseId", "$TARGET_DATABASE_ID"]
                ]]],
                ["VAR", "$SELECTED_COUNT", ["LENGTH", "$SELECTED_CARDS"]],
                ["COND",
                    ["LESS_THAN", "$SELECTED_COUNT", "$TARGET_MAX_QUANTITY"],
                    ["DO_CREATE_DECK_CARDS_SCN", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1]
                ]
            ]
        },
        "DO_CREATE_MISSING_CARDS": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_MAX_QUANTITY", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_CREATE_MISSING_CARDS.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_CREATE_MISSING_CARDS.TARGET_NAME"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_DATABASE_ID", "DO_CREATE_MISSING_CARDS.TARGET_DATABASE_ID"],
                ["VALIDATE_GT0", "$TARGET_MAX_QUANTITY", "DO_CREATE_MISSING_CARDS.TARGET_MAX_QUANTITY"],
                ["VAR", "$TARGET_GROUP", ["GET_GROUP_AND_VALIDATE", "$TARGET_GROUP_ID", "DO_CREATE_MISSING_CARDS.TARGET_GROUP_ID"]],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_CREATE_MISSING_CARDS.LOG_EVENT"],
                ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                    ["EQUAL", "$CARD.sides.A.databaseId", "$TARGET_DATABASE_ID"]
                ]]],
                ["VAR", "$SELECTED_COUNT", ["LENGTH", "$SELECTED_CARDS"]],
                ["COND",
                    ["LESS_THAN", "$SELECTED_COUNT", "$TARGET_MAX_QUANTITY"],
                    [
                        ["VAR", "$CARDS_TO_ADD", ["SUBTRACT", "$TARGET_MAX_QUANTITY", "$SELECTED_COUNT"]],
                        ["DO_CREATE_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$CARDS_TO_ADD", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"]
                    ]
                ]
            ]
        },
        "DO_CREATE_MISSING_CARDS_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_MAX_QUANTITY", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_CREATE_MISSING_CARDS", "$GAME.firstPlayer", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_MAX_QUANTITY", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_CREATE_MISSING_CARDS_SILENT_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_MAX_QUANTITY", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_CREATE_MISSING_CARDS", "$GAME.firstPlayer", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_MAX_QUANTITY", "$TARGET_GROUP_ID", false, null]
            ]
        },
        "DO_MOVE_DECK_CARDS": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$SOURCE_GROUP_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_NAME", null],
                        ["NOT_EQUAL", "$SOURCE_GROUP_ID", null],
                        ["NOT_EQUAL", "$TARGET_QUANTITY", null],
                        ["GREATER_THAN", "$TARGET_QUANTITY", 0],
                        ["NOT_EQUAL", "$TARGET_GROUP_ID", null]
                    ],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "move {{$TARGET_QUANTITY}}x {{$TARGET_NAME}} from {{$GROUP_BY_ID.$SOURCE_GROUP_ID.label}} into {{$GROUP_BY_ID.$TARGET_GROUP_ID.label}}.", "moves {{$TARGET_QUANTITY}}x {{$TARGET_NAME}} from {{$GROUP_BY_ID.$SOURCE_GROUP_ID.label}} into {{$GROUP_BY_ID.$TARGET_GROUP_ID.label}}."],
                        ["FOR_EACH_START_STOP_STEP", "$I", 0, "$TARGET_QUANTITY", 1, [
                            ["VAR", "$TOP_CARD", ["GET_TOP_CARD", "$SOURCE_GROUP_ID"]],
                            ["MOVE_CARD", "$TOP_CARD.id", "$TARGET_GROUP_ID", -1]
                        ]]
                    ]
                ]
            ]
        },
        "DO_MOVE_DECK_CARDS_SCN": {
            "args": ["$TARGET_NAME", "$SOURCE_GROUP_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_MOVE_DECK_CARDS", "$GAME.firstPlayer", "$TARGET_NAME", "$SOURCE_GROUP_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_MOVE_NAMED_DECK_CARDS": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$SOURCE_GROUP_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_MOVE_NAMED_DECK_CARDS.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_MOVE_NAMED_DECK_CARDS.TARGET_NAME"],
                ["VAR", "$SOURCE_GROUP", ["GET_GROUP_AND_VALIDATE", "$SOURCE_GROUP_ID", "DO_MOVE_NAMED_DECK_CARDS.SOURCE_GROUP_ID"]],
                ["VALIDATE_GT0", "$TARGET_QUANTITY", "DO_MOVE_NAMED_DECK_CARDS.TARGET_QUANTITY"],
                ["VAR", "$TARGET_GROUP", ["GET_GROUP_AND_VALIDATE", "$TARGET_GROUP_ID", "DO_MOVE_NAMED_DECK_CARDS.TARGET_GROUP_ID"]],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_MOVE_NAMED_DECK_CARDS.LOG_EVENT"],
                ["VAR", "$SELECTED_CARDS", ["GET_NAMED_DECK_CARDS", "$TARGET_NAME", "$SOURCE_GROUP_ID"]],
                ["VAR", "$SELECTED_COUNT", ["LENGTH", "$SELECTED_CARDS"]],
                ["VAR", "$USED_CARDS", ["LIST"]],
                ["COND",
                    ["GREATER_THAN", "$SELECTED_COUNT", 0],
                    [
                        ["VAR", "$TARGET_CARD", "$SELECTED_CARDS.[0]"],
                        ["COND",
                            ["GREATER_THAN", "$TARGET_QUANTITY", "$SELECTED_COUNT"],
                            ["UPDATE_VAR", "$TARGET_QUANTITY", "$SELECTED_COUNT"]
                        ],
                        ["COND",
                            ["GREATER_THAN", "$TARGET_QUANTITY", 1],
                            ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "move {{$TARGET_QUANTITY}}x {{$TARGET_CARD.sides.A.name}} from {{$SOURCE_GROUP.label}} into {{$TARGET_GROUP.label}}.", "moves {{$TARGET_QUANTITY}}x {{$TARGET_CARD.sides.A.name}} from {{$SOURCE_GROUP.label}} into {{$TARGET_GROUP.label}}."],
                            ["TRUE"],
                            ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "move {{$TARGET_CARD.sides.A.name}} from {{$SOURCE_GROUP.label}} into {{$TARGET_GROUP.label}}.", "moves {{$TARGET_CARD.sides.A.name}} from {{$SOURCE_GROUP.label}} into {{$TARGET_GROUP.label}}."]
                        ],
                        ["FOR_EACH_START_STOP_STEP", "$I", 0, "$TARGET_QUANTITY", 1, [
                            ["MOVE_CARD", "$SELECTED_CARDS.[$I].id", "$TARGET_GROUP_ID", -1],
                            ["UPDATE_VAR", "$USED_CARDS", ["APPEND", "$USED_CARDS", "$SELECTED_CARDS.[$I].id"]]
                        ]]
                    ]
                ],
                ["DEFINE", "$DO_MOVE_NAMED_DECK_CARDS_RESULT", "$USED_CARDS"]
            ]
        },
        "DO_MOVE_NAMED_DECK_CARDS_SCN": {
            "args": ["$TARGET_NAME", "$SOURCE_GROUP_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_MOVE_NAMED_DECK_CARDS", "$GAME.firstPlayer", "$TARGET_NAME", "$SOURCE_GROUP_ID", "$TARGET_QUANTITY", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_BEGIN_WITH_CARD_IN_PLAY": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME"],
            "code": [
                ["DO_MOVE_NAMED_DECK_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", ["GET_CONTROLLER_DECK", "$TARGET_PLAYER"], 1, ["GET_CONTROLLER_PLAY", "$TARGET_PLAYER"], true, null]
            ]
        },
        "DO_PULL_PLAYER_DECK_CARD_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$TARGET_GROUP_ID"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_PULL_PLAYER_DECK_CARD_SCN.TARGET_NAME"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_DATABASE_ID", "DO_PULL_PLAYER_DECK_CARD_SCN.TARGET_DATABASE_ID"],
                ["VAR", "$TARGET_GROUP", ["GET_GROUP_AND_VALIDATE", "$TARGET_GROUP_ID", "DO_PULL_PLAYER_DECK_CARD_SCN.TARGET_GROUP_ID"]],
                ["VAR", "$TARGET_CARD", ["ONE_CARD", "$CARD", ["EQUAL", "$CARD.sides.A.databaseId", "$TARGET_DATABASE_ID"]]],
                ["COND",
                    ["EQUAL", "$TARGET_CARD", null],
                    ["DO_CREATE_CARDS_SCN", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1, "$TARGET_GROUP_ID"],
                    ["TRUE"],
                    [
                        ["DO_LOG_SCN", "$TARGET_CARD.controller", "moves {{$TARGET_CARD.sides.A.name}} from their deck to {{$TARGET_GROUP.label}}."],
                        ["MOVE_CARD", "$TARGET_CARD.id", "$TARGET_GROUP_ID", -1]
                    ]
                ]
            ]
        },
        "DO_DELETE_ANY_PLAYER_DECK_CARD_SCN": {
            "args": ["$TARGET_NAME"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_DELETE_ANY_PLAYER_DECK_CARD_SCN.TARGET_NAME"],
                ["VAR", "$TARGET_CARD", ["GET_NAMED_PLAYER_DECK_CARD", "$TARGET_NAME"]],
                ["COND",
                    ["NOT_EQUAL", "$TARGET_CARD", null],
                    ["DO_DELETE_CARD", "$TARGET_CARD.controller", "$TARGET_CARD.id", true, null]
                ]
            ]
        },
        "DO_REPLACE_CARD_SCN": {
            "args": ["$REPLACED_NAME", "$TARGET_NAME", "$TARGET_DATABASE_ID"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$REPLACED_NAME", "DO_REPLACE_CARD_SCN.REPLACED_NAME"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_REPLACE_CARD_SCN.TARGET_NAME"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_DATABASE_ID", "DO_REPLACE_CARD_SCN.TARGET_DATABASE_ID"],
                ["VAR", "$REPLACED_CARD", ["GET_NAMED_CARD", "$REPLACED_NAME"]],
                ["COND",
                    ["NOT_EQUAL", "$REPLACED_CARD", null],
                    [
                        ["VAR", "$TARGET_PLAYER", ["GET_PLAYER_CONTROLLER", "$GAME.firstPlayer", "$REPLACED_CARD.id"]],
                        ["VAR", "$TARGET_GROUP_ID", "$REPLACED_CARD.groupId"],
                        ["DO_LOG_SCN", "$TARGET_PLAYER", "replaces {{$REPLACED_CARD.sides.A.name}} with {{$TARGET_NAME}} in {{$GROUP_BY_ID.$TARGET_GROUP_ID.label}}."],
                        ["DO_CREATE_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1, "$TARGET_GROUP_ID", false, null],
                        ["DO_DELETE_CARD", "$TARGET_PLAYER", "$REPLACED_CARD.id", false, null]
                    ]
                ]
            ]
        },
        "DO_LOAD_CARDS": {
            "args": ["$TARGET_PLAYER", "$LOAD_LIST_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$LOAD_LIST_ID", null]
                    ],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "load cards from {{$LOAD_LIST_ID}}.", "loads cards from {{$LOAD_LIST_ID}}."],
                        ["LOAD_CARDS", "$LOAD_LIST_ID"]
                    ]
                ]
            ]
        },
        "DO_LOAD_CARDS_SCN": {
            "args": ["$LOAD_LIST_ID"],
            "code": [
                ["DO_LOAD_CARDS", "$GAME.firstPlayer", "$LOAD_LIST_ID", true, null]
            ]
        },
        "DO_LOAD_CARDS_INTO": {
            "args": ["$TARGET_PLAYER", "$LOAD_LIST_ID", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_LOAD_CARDS_INTO.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$LOAD_LIST_ID", "DO_LOAD_CARDS_INTO.LOAD_LIST_ID"],
                ["VAR", "$TARGET_GROUP", ["GET_GROUP_AND_VALIDATE", "$TARGET_GROUP_ID", "DO_LOAD_CARDS_INTO.TARGET_GROUP_ID"]],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_LOAD_CARDS_INTO.LOG_EVENT"],
                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "load cards from {{$LOAD_LIST_ID}} into {{$GROUP_BY_ID.$TARGET_GROUP_ID.label}}.", "loads cards from {{$LOAD_LIST_ID}} into {{$GROUP_BY_ID.$TARGET_GROUP_ID.label}}."],
                ["LOAD_CARDS", "$LOAD_LIST_ID"],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$GAME.lastLoadedCardIds", null],
                        ["GREATER_THAN", ["LENGTH", "$GAME.lastLoadedCardIds"], 0]
                    ],
                    [
                        ["FOR_EACH_VAL", "$CARD_ID", "$GAME.lastLoadedCardIds", [
                            ["COND",
                                ["NOT_EQUAL", "$CARD_BY_ID.$CARD_ID.groupId", "$TARGET_GROUP_ID"],
                                ["MOVE_CARD", "$CARD_ID", "$TARGET_GROUP_ID", -1]
                            ]
                        ]]
                    ]
                ]
            ]
        },
        "DO_LOAD_CARDS_INTO_SCN": {
            "args": ["$LOAD_LIST_ID", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_LOAD_CARDS_INTO", "$GAME.firstPlayer", "$LOAD_LIST_ID", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_LOAD_N_CARDS": {
            "args": ["$TARGET_PLAYER", "$LOAD_LIST_ID", "$NUMBER_TO_LOAD", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$LOAD_LIST_ID", null],
                        ["NOT_EQUAL", "$NUMBER_TO_LOAD", null],
                        ["GREATER_THAN", "$NUMBER_TO_LOAD", 0]
                    ],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER",
                            ["GET_NUMERIC_LOG", "load ", "load ", "$NUMBER_TO_LOAD", " random card from {{$LOAD_LIST_ID}}.", " random cards from {{$LOAD_LIST_ID}}."],
                            ["GET_NUMERIC_LOG", "loads ", "loads ", "$NUMBER_TO_LOAD", " random card from {{$LOAD_LIST_ID}}.", " random cards from {{$LOAD_LIST_ID}}."]
                        ],
                        ["LOAD_CARDS", ["CHOOSE_N", ["GET_LOAD_LIST", "$LOAD_LIST_ID"], "$NUMBER_TO_LOAD"]]
                    ]
                ]
            ]
        },
        "DO_LOAD_N_CARDS_SCN": {
            "args": ["$LOAD_LIST_ID", "$NUMBER_TO_LOAD"],
            "code": [
                ["DO_LOAD_N_CARDS", "$GAME.firstPlayer", "$LOAD_LIST_ID", "$NUMBER_TO_LOAD", true, null]
            ]
        },
        "DO_LOAD_RANDOM_LIST": {
            "args": ["$TARGET_PLAYER", "$LIST_OF_LOAD_LIST_IDS", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$LIST_OF_LOAD_LIST_IDS", null],
                        ["GREATER_THAN", ["LENGTH", "$LIST_OF_LOAD_LIST_IDS"], 0]
                    ],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", ["GET_FORMATTED_LIST", "load cards from one of: ", "$LIST_OF_LOAD_LIST_IDS", "."], ["GET_FORMATTED_LIST", "loads cards from one of: ", "$LIST_OF_LOAD_LIST_IDS", "."]],
                        ["LOAD_CARDS", ["AT_INDEX", "$LIST_OF_LOAD_LIST_IDS", ["RANDOM_INT", 0, ["SUBTRACT", ["LENGTH", "$LIST_OF_LOAD_LIST_IDS"], 1]]]]
                    ]
                ]
            ]
        },
        "DO_LOAD_RANDOM_LIST_SCN": {
            "args": ["$LIST_OF_LOAD_LIST_IDS"],
            "code": [
                ["DO_LOAD_RANDOM_LIST", "$GAME.firstPlayer", "$LIST_OF_LOAD_LIST_IDS", true, null]
            ]
        },
        "DO_DELETE_CARD": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_CARD_ID", null]
                    ],
                    [
                        ["VAR", "$TARGET_CARD", "$CARD_BY_ID.$TARGET_CARD_ID"],
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove {{$TARGET_CARD.currentFace.name}} from the game.", "removes {{$TARGET_CARD.currentFace.name}} from the game."],
                        ["DELETE_CARD", "$TARGET_CARD_ID"]
                    ]
                ]
            ]
        },
        "DO_DELETE_CARD_SCN": {
            "args": ["$TARGET_CARD_ID"],
            "code": [
                ["DO_DELETE_CARD", "$GAME.firstPlayer", "$TARGET_CARD_ID", true, null]
            ]
        },
        "DO_DELETE_LOCATION": {
            "args": ["$TARGET_PLAYER", "$LOCATION_CARD_NAME", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VAR", "$LOCATION_CARD", ["GET_NAMED_MAP_LOCATION", "$LOCATION_CARD_NAME"]],
                ["DO_DELETE_CARD", "$TARGET_PLAYER", "$LOCATION_CARD.id", "$LOG_EVENT", "$ACTOR_PLAYER"]
            ]
        },
        "DO_DELETE_LOCATION_SCN": {
            "args": ["$LOCATION_CARD_NAME"],
            "code": [
                ["DO_DELETE_LOCATION", "$GAME.firstPlayer", "$LOCATION_CARD_NAME", true, null]
            ]
        },
        "DO_DELETE_ENCOUNTER_CARDS": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VAR", "$SELECTED_CARDS", ["GET_NAMED_DECK_CARDS", "$TARGET_NAME", "sharedEncounterDeck"]],
                ["VAR", "$SELECTED_COUNT", ["LENGTH", "$SELECTED_CARDS"]],
                ["COND",
                    ["GREATER_THAN", "$SELECTED_COUNT", 1],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove {{$SELECTED_COUNT}}x {{$SELECTED_CARDS.[0].sides.A.name}} from the game.", "removes {{$SELECTED_COUNT}}x {{$SELECTED_CARDS.[0].sides.A.name}} from the game."],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["DELETE_CARD", "$CARD.id"]
                        ]]
                    ],
                    ["EQUAL", "$SELECTED_COUNT", 1],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove {{$SELECTED_CARDS.[0].sides.A.name}} from the game.", "removes {{$SELECTED_CARDS.[0].sides.A.name}} from the game."],
                        ["DELETE_CARD", "$SELECTED_CARDS.[0].id"]
                    ]
                ]
            ]
        },
        "DO_DELETE_ENCOUNTER_CARDS_SCN": {
            "args": ["$TARGET_NAME"],
            "code": [
                ["DO_DELETE_ENCOUNTER_CARDS", "$GAME.firstPlayer", "$TARGET_NAME", true, null]
            ]
        },
        "DO_DELETE_NAMED_CARDS": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VAR", "$SELECTED_CARDS", ["GET_NAMED_CARDS", "$TARGET_NAME"]],
                ["VAR", "$SELECTED_COUNT", ["LENGTH", "$SELECTED_CARDS"]],
                ["COND",
                    ["GREATER_THAN", "$SELECTED_COUNT", 1],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove {{$SELECTED_COUNT}}x {{$SELECTED_CARDS.[0].sides.A.name}} from the game.", "removes {{$SELECTED_COUNT}}x {{$SELECTED_CARDS.[0].sides.A.name}} from the game."],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["DELETE_CARD", "$CARD.id"]
                        ]]
                    ],
                    ["EQUAL", "$SELECTED_COUNT", 1],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove {{$SELECTED_CARDS.[0].sides.A.name}} from the game.", "removes {{$SELECTED_CARDS.[0].sides.A.name}} from the game."],
                        ["DELETE_CARD", "$SELECTED_CARDS.[0].id"]
                    ]
                ]
            ]
        },
        "DO_DELETE_NAMED_CARDS_SCN": {
            "args": ["$TARGET_NAME"],
            "code": [
                ["DO_DELETE_NAMED_CARDS", "$GAME.firstPlayer", "$TARGET_NAME", true, null]
            ]
        },
        "DO_DELETE_DECK_CARDS": {
            "args": ["$TARGET_PLAYER", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_DELETE_DECK_CARDS.TARGET_PLAYER"],
                ["VAR", "$TARGET_GROUP", ["GET_GROUP_AND_VALIDATE", "$TARGET_GROUP_ID", "DO_DELETE_DECK_CARDS.TARGET_GROUP_ID"]],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_DELETE_DECK_CARDS.LOG_EVENT"],
                ["VAR", "$SELECTED_CARDS", ["GET_ALL_CARDS_IN_GROUP", "$TARGET_GROUP_ID"]],
                ["VAR", "$SELECTED_COUNT", ["LENGTH", "$SELECTED_CARDS"]],
                ["COND",
                    ["GREATER_THAN", "$SELECTED_COUNT", 1],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove {{$SELECTED_COUNT}}x cards in {{$TARGET_GROUP.label}} from the game.", "removes {{$SELECTED_COUNT}}x cards in {{$TARGET_GROUP.label}} from the game."],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["DELETE_CARD", "$CARD.id"]
                        ]]
                    ],
                    ["EQUAL", "$SELECTED_COUNT", 1],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove a card in {{$TARGET_GROUP.label}} from the game.", "removes a card in {{$TARGET_GROUP.label}} from the game."],
                        ["DELETE_CARD", "$SELECTED_CARDS.[0].id"]
                    ]
                ]
            ]
        },
        "DO_DELETE_DECK_CARDS_SCN": {
            "args": ["$TARGET_GROUP_ID"],
            "code": [
                ["DO_DELETE_DECK_CARDS", "$GAME.firstPlayer", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_DELETE_DECK_CARDS_ACT": {
            "args": ["$TARGET_PLAYER", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_DELETE_DECK_CARDS", "$TARGET_PLAYER", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_DELETE_NAMED_DECK_CARDS": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_DELETE_NAMED_DECK_CARDS.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_DELETE_NAMED_DECK_CARDS.TARGET_NAME"],
                ["VAR", "$TARGET_GROUP", ["GET_GROUP_AND_VALIDATE", "$TARGET_GROUP_ID", "DO_DELETE_NAMED_DECK_CARDS.TARGET_GROUP_ID"]],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_DELETE_NAMED_DECK_CARDS.LOG_EVENT"],
                ["VAR", "$SELECTED_CARDS", ["GET_NAMED_DECK_CARDS", "$TARGET_NAME", "$TARGET_GROUP_ID"]],
                ["VAR", "$SELECTED_COUNT", ["LENGTH", "$SELECTED_CARDS"]],
                ["COND",
                    ["GREATER_THAN", "$SELECTED_COUNT", 1],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove {{$SELECTED_COUNT}}x {{$SELECTED_CARDS.[0].sides.A.name}} in {{$TARGET_GROUP.label}} from the game.", "removes {{$SELECTED_COUNT}}x {{$SELECTED_CARDS.[0].sides.A.name}} in {{$TARGET_GROUP.label}} from the game."],
                        ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                            ["DELETE_CARD", "$CARD.id"]
                        ]]
                    ],
                    ["EQUAL", "$SELECTED_COUNT", 1],
                    [
                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "remove {{$SELECTED_CARDS.[0].sides.A.name}} in {{$TARGET_GROUP.label}} from the game.", "removes {{$SELECTED_CARDS.[0].sides.A.name}} in {{$TARGET_GROUP.label}} from the game."],
                        ["DELETE_CARD", "$SELECTED_CARDS.[0].id"]
                    ]
                ]
            ]
        },
        "DO_DELETE_NAMED_DECK_CARDS_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_DELETE_NAMED_DECK_CARDS", "$GAME.firstPlayer", "$TARGET_NAME", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_DELETE_NAMED_DECK_CARDS_ACT": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_DELETE_NAMED_DECK_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_PUT_INTO_PLAY_FROM_PLAYER_DECK_SCN": {
            "args": ["$TARGET_NAME"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_PUT_INTO_PLAY_FROM_PLAYER_DECK_SCN.TARGET_NAME"],
                ["VAR", "$TARGET_CARD", ["GET_NAMED_PLAYER_DECK_CARD", "$TARGET_NAME"]],
                ["COND",
                    ["NOT_EQUAL", "$TARGET_CARD", null],
                    [
                        ["DO_LOG", true, "$TARGET_CARD.controller", "$TARGET_CARD.controller", "put {{$TARGET_CARD.sides.A.name}} from their deck into play.", "puts {{$TARGET_CARD.sides.A.name}} from their deck into play."],
                        ["MOVE_CARD", "$TARGET_CARD.id", ["GET_CONTROLLER_PLAY", "$TARGET_CARD.controller"], -1]
                    ]
                ]
            ]
        },
        "DO_MAY_PUT_INTO_PLAY_FROM_PLAYER_DECK_SCN": {
            "args": ["$TARGET_NAME", "$SCENARIO_ACTION"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_MAY_PUT_INTO_PLAY_FROM_PLAYER_DECK_SCN.TARGET_NAME"],
                ["VALIDATE_NOT_EMPTY", "$SCENARIO_ACTION", "DO_MAY_PUT_INTO_PLAY_FROM_PLAYER_DECK_SCN.SCENARIO_ACTION"],
                ["VAR", "$TARGET_CARD", ["GET_NAMED_PLAYER_DECK_CARD", "$TARGET_NAME"]],
                ["COND",
                    ["NOT_EQUAL", "$TARGET_CARD", null],
                    ["PROMPT", "$TARGET_CARD.controller", "askToPutPlayerDeckCardIntoPlay", "$TARGET_CARD.id", "$SCENARIO_ACTION"],
                    ["TRUE"],
                    ["ACTION_LIST", "$SCENARIO_ACTION"]
                ]
            ]
        },
        "DO_SPAWN_ENCOUNTER_AT_LOCATION": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_NAME", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$ADD_TO_INDEX", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["DEFINE", "$DO_SPAWN_ENCOUNTER_AT_LOCATION_RESULT", null],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_CARD_NAME", null],
                        ["NOT_EQUAL", "$LOCATION_CARD_NAME", null],
                        ["NOT_EQUAL", "$LEFT_MOD", null],
                        ["NOT_EQUAL", "$TOP_MOD", null]
                    ],
                    [
                        ["VAR", "$TARGET_CARD", ["GET_NAMED_ENCOUNTER_DECK_CARD", "$TARGET_CARD_NAME"]],
                        ["VAR", "$LOCATION_CARD", ["GET_NAMED_MAP_LOCATION", "$LOCATION_CARD_NAME"]],
                        ["COND",
                            ["AND",
                                ["NOT_EQUAL", "$TARGET_CARD", null],
                                ["NOT_EQUAL", "$LOCATION_CARD", null]
                            ],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "spawn {{$TARGET_CARD.sides.A.name}} at {{$LOCATION_CARD.currentFace.name}}.", "spawns {{$TARGET_CARD.sides.A.name}} at {{$LOCATION_CARD.currentFace.name}}."],
                                ["VAR", "$INDEX", -1],
                                ["COND",
                                    ["GREATER_THAN", "$ADD_TO_INDEX", 0],
                                    ["UPDATE_VAR", "$INDEX", ["ADD", "$LOCATION_CARD.stackIndex", "$ADD_TO_INDEX"]]
                                ],
                                ["MOVE_CARD", "$TARGET_CARD.id", "sharedLocations", "$INDEX", 0, {"allowFlip": false}],
                                ["SET", "/cardById/$TARGET_CARD.id/currentSide", "A"],
                                ["DO_SET_CARD_LOCATION", "$TARGET_CARD.id", ["ADD", ["GET_CARD_LEFT", "$LOCATION_CARD.id"], "$LEFT_MOD"], ["ADD", ["GET_CARD_TOP", "$LOCATION_CARD.id"], "$TOP_MOD"]],
                                ["DEFINE", "$DO_SPAWN_ENCOUNTER_AT_LOCATION_RESULT", "$TARGET_CARD.id"]
                            ]
                        ]
                    ]
                ]
            ]
        },
        "DO_SPAWN_ENCOUNTER_AT_LOCATION_SCN": {
            "args": ["$TARGET_CARD_NAME", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$ADD_TO_INDEX"],
            "code": [
                ["DO_SPAWN_ENCOUNTER_AT_LOCATION", "$GAME.firstPlayer", "$TARGET_CARD_NAME", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$ADD_TO_INDEX", true, null]
            ]
        },
        "DO_SPAWN_NAMED_AT_LOCATION": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$ADD_TO_INDEX", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["DEFINE", "$DO_SPAWN_NAMED_AT_LOCATION_RESULT", null],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_NAME", null],
                        ["NOT_EQUAL", "$LOCATION_CARD_NAME", null],
                        ["NOT_EQUAL", "$LEFT_MOD", null],
                        ["NOT_EQUAL", "$TOP_MOD", null]
                    ],
                    [
                        ["VAR", "$TARGET_CARD", ["GET_NAMED_CARD", "$TARGET_NAME"]],
                        ["VAR", "$LOCATION_CARD", ["GET_NAMED_MAP_LOCATION", "$LOCATION_CARD_NAME"]],
                        ["COND",
                            ["AND",
                                ["NOT_EQUAL", "$TARGET_CARD", null],
                                ["NOT_EQUAL", "$LOCATION_CARD", null]
                            ],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "spawn {{$TARGET_CARD.currentFace.name}} at {{$LOCATION_CARD.currentFace.name}}.", "spawns {{$TARGET_CARD.currentFace.name}} at {{$LOCATION_CARD.currentFace.name}}."],
                                ["VAR", "$INDEX", -1],
                                ["COND",
                                    ["GREATER_THAN", "$ADD_TO_INDEX", 0],
                                    ["UPDATE_VAR", "$INDEX", ["ADD", "$LOCATION_CARD.stackIndex", "$ADD_TO_INDEX"]]
                                ],
                                ["MOVE_CARD", "$TARGET_CARD.id", "sharedLocations", "$INDEX", 0, {"allowFlip": false}],
                                ["DO_SET_CARD_LOCATION", "$TARGET_CARD.id", ["ADD", ["GET_CARD_LEFT", "$LOCATION_CARD.id"], "$LEFT_MOD"], ["ADD", ["GET_CARD_TOP", "$LOCATION_CARD.id"], "$TOP_MOD"]],
                                ["DEFINE", "$DO_SPAWN_NAMED_AT_LOCATION_RESULT", "$TARGET_CARD.id"]
                            ]
                        ]
                    ]
                ]
            ]
        },
        "DO_SPAWN_NAMED_AT_LOCATION_SCN": {
            "args": ["$TARGET_NAME", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$ADD_TO_INDEX"],
            "code": [
                ["DO_SPAWN_NAMED_AT_LOCATION", "$GAME.firstPlayer", "$TARGET_NAME", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$ADD_TO_INDEX", true, null]
            ]
        },
        "DO_SPAWN_NAMED_AT_LOCATION_ACT": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$ADD_TO_INDEX"],
            "code": [
                ["DO_SPAWN_NAMED_AT_LOCATION", "$TARGET_PLAYER", "$TARGET_NAME", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$ADD_TO_INDEX", true, null]
            ]
        },
        "DO_SPAWN_AT_LOCATION": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["DEFINE", "$DO_SPAWN_AT_LOCATION_RESULT", null],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_NAME", null],
                        ["NOT_EQUAL", "$TARGET_DATABASE_ID", null],
                        ["NOT_EQUAL", "$LOCATION_CARD_NAME", null],
                        ["NOT_EQUAL", "$LEFT_MOD", null],
                        ["NOT_EQUAL", "$TOP_MOD", null]
                    ],
                    [
                        ["DO_CREATE_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1, "sharedLocations", false, null],
                        ["VAR", "$TARGET_CARD_ID", "{{$GAME.lastLoadedCardIds.[0]}}"],
                        ["VAR", "$TARGET_CARD", "$CARD_BY_ID.$TARGET_CARD_ID"],
                        ["VAR", "$LOCATION_CARD", ["GET_NAMED_MAP_LOCATION", "$LOCATION_CARD_NAME"]],
                        ["COND",
                            ["AND",
                                ["NOT_EQUAL", "$TARGET_CARD", null],
                                ["NOT_EQUAL", "$LOCATION_CARD", null]
                            ],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "spawn {{$TARGET_CARD.currentFace.name}} at {{$LOCATION_CARD.currentFace.name}}.", "spawns {{$TARGET_CARD.currentFace.name}} at {{$LOCATION_CARD.currentFace.name}}."],
                                ["MOVE_CARD", "$TARGET_CARD.id", "sharedLocations", -1],
                                ["DO_SET_CARD_LOCATION", "$TARGET_CARD.id", ["ADD", ["GET_CARD_LEFT", "$LOCATION_CARD.id"], "$LEFT_MOD"], ["ADD", ["GET_CARD_TOP", "$LOCATION_CARD.id"], "$TOP_MOD"]],
                                ["DEFINE", "$DO_SPAWN_AT_LOCATION_RESULT", "$TARGET_CARD.id"]
                            ]
                        ]
                    ]
                ]
            ]
        },
        "DO_SPAWN_AT_LOCATION_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD"],
            "code": [
                ["DO_SPAWN_AT_LOCATION", "$GAME.firstPlayer", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", true, null]
            ]
        },
        "DO_SPAWN_ATTACHED_TO_LOCATION": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$LOCATION_CARD_NAME", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["DEFINE", "$DO_SPAWN_ATTACHED_TO_LOCATION_RESULT", null],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_NAME", null],
                        ["NOT_EQUAL", "$TARGET_DATABASE_ID", null],
                        ["NOT_EQUAL", "$LOCATION_CARD_NAME", null]
                    ],
                    [
                        ["DO_CREATE_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1, "sharedLocations", false, null],
                        ["VAR", "$TARGET_CARD_ID", "{{$GAME.lastLoadedCardIds.[0]}}"],
                        ["VAR", "$TARGET_CARD", "$CARD_BY_ID.$TARGET_CARD_ID"],
                        ["VAR", "$LOCATION_CARD", ["GET_NAMED_MAP_LOCATION", "$LOCATION_CARD_NAME"]],
                        ["COND",
                            ["AND",
                                ["NOT_EQUAL", "$TARGET_CARD", null],
                                ["NOT_EQUAL", "$LOCATION_CARD", null]
                            ],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "spawn {{$TARGET_CARD.currentFace.name}} attached to {{$LOCATION_CARD.currentFace.name}}.", "spawns {{$TARGET_CARD.currentFace.name}} attached to {{$LOCATION_CARD.currentFace.name}}."],
                                ["MOVE_CARD", "$TARGET_CARD.id", "sharedLocations", -1],
                                ["DO_ATTACH_CARD", "$TARGET_PLAYER", "$TARGET_CARD.id", "$LOCATION_CARD.id", false, null],
                                ["DEFINE", "$DO_SPAWN_ATTACHED_TO_LOCATION_RESULT", "$TARGET_CARD.id"]
                            ]
                        ]
                    ]
                ]
            ]
        },
        "DO_SPAWN_ATTACHED_TO_LOCATION_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$LOCATION_CARD_NAME"],
            "code": [
                ["DO_SPAWN_ATTACHED_TO_LOCATION", "$GAME.firstPlayer", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$LOCATION_CARD_NAME", true, null]
            ]
        },
        "DO_SPAWN_ATTACHED_TO_LOCATION_ACT": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$LOCATION_CARD_NAME"],
            "code": [
                ["DO_SPAWN_ATTACHED_TO_LOCATION", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$LOCATION_CARD_NAME", true, null]
            ]
        },
        "DO_SPAWN_ATTACHED_TO_NAMED_CARD": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$PARENT_CARD_NAME", "$FLIP_FIRST", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["DEFINE", "$DO_SPAWN_ATTACHED_TO_NAMED_CARD_RESULT", null],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_NAME", null],
                        ["NOT_EQUAL", "$TARGET_DATABASE_ID", null],
                        ["NOT_EQUAL", "$PARENT_CARD_NAME", null]
                    ],
                    [
                        ["VAR", "$PARENT_CARD", ["GET_NAMED_CARD", "$PARENT_CARD_NAME"]],
                        ["COND",
                            ["NOT_EQUAL", "$PARENT_CARD", null],
                            [
                                ["DO_CREATE_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1, "$PARENT_CARD.groupId", false, null],
                                ["VAR", "$TARGET_CARD_ID", "{{$GAME.lastLoadedCardIds.[0]}}"],
                                ["VAR", "$TARGET_CARD", "$CARD_BY_ID.$TARGET_CARD_ID"],
                                ["COND",
                                    ["NOT_EQUAL", "$TARGET_CARD", null],
                                    [
                                        ["COND",
                                            ["EQUAL", "$FLIP_FIRST", true],
                                            ["DO_FLIP_FACEDOWN", "$TARGET_PLAYER", "$TARGET_CARD_ID", false, null]
                                        ],
                                        ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "spawn {{$TARGET_CARD.currentFace.name}} attached to {{$PARENT_CARD.currentFace.name}}.", "spawns {{$TARGET_CARD.currentFace.name}} attached to {{$PARENT_CARD.currentFace.name}}."],
                                        ["MOVE_CARD", "$TARGET_CARD.id", "$PARENT_CARD.groupId", -1],
                                        ["DO_ATTACH_CARD", "$TARGET_PLAYER", "$TARGET_CARD.id", "$PARENT_CARD.id", false, null],
                                        ["DEFINE", "$DO_SPAWN_ATTACHED_TO_NAMED_CARD_RESULT", "$TARGET_CARD.id"]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
        },
        "DO_SPAWN_ATTACHED_TO_NAMED_CARD_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$PARENT_CARD_NAME", "$FLIP_FIRST"],
            "code": [
                ["DO_SPAWN_ATTACHED_TO_NAMED_CARD", "$GAME.firstPlayer", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$PARENT_CARD_NAME", "$FLIP_FIRST", true, null]
            ]
        },
        "DO_SPAWN_LOCATION": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$LEFT", "$TOP", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["DEFINE", "$DO_SPAWN_LOCATION_RESULT", null],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_NAME", null],
                        ["NOT_EQUAL", "$TARGET_DATABASE_ID", null],
                        ["NOT_EQUAL", "$LEFT", null],
                        ["NOT_EQUAL", "$TOP", null]
                    ],
                    [
                        ["DO_CREATE_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1, "sharedLocations", true, null],
                        ["VAR", "$TARGET_CARD_ID", "{{$GAME.lastLoadedCardIds.[0]}}"],
                        ["DO_SET_CARD_LOCATION", "$TARGET_CARD_ID", "$LEFT", "$TOP"],
                        ["DEFINE", "$DO_SPAWN_LOCATION_RESULT", "$TARGET_CARD_ID"]
                    ]
                ]
            ]
        },
        "DO_SPAWN_LOCATION_SCN": {
            "args": ["$TARGET_NAME", "$TARGET_DATABASE_ID", "$LEFT", "$TOP"],
            "code": [
                ["DO_SPAWN_LOCATION", "$GAME.firstPlayer", "$TARGET_NAME", "$TARGET_DATABASE_ID", "$LEFT", "$TOP", true, null]
            ]
        },
        "DO_SPAWN_LOCATIONS_SCN": {
            "args": ["$TARGET_NAME", "$SPAWN_IDS", "$SPAWN_LEFTS", "$SPAWN_TOPS", "$START_INDEX", "$NUMBER", "$ADD_TO_XY"],
            "code": [
                ["VALIDATE_NOT_NULL", "$SPAWN_IDS", "DO_SPAWN_LOCATIONS_SCN.SPAWN_IDS"],
                ["VALIDATE_NOT_NULL", "$SPAWN_LEFTS", "DO_SPAWN_LOCATIONS_SCN.SPAWN_LEFTS"],
                ["VALIDATE_NOT_NULL", "$SPAWN_TOPS", "DO_SPAWN_LOCATIONS_SCN.SPAWN_TOPS"],
                ["VALIDATE_GE0", "$START_INDEX", "DO_SPAWN_LOCATIONS_SCN.START_INDEX"],
                ["VALIDATE_GT0", "$NUMBER", "DO_SPAWN_LOCATIONS_SCN.NUMBER"],
                ["VALIDATE_NOT_NULL", "$ADD_TO_XY", "DO_SPAWN_LOCATIONS_SCN.ADD_TO_XY"],
                ["VAR", "$STOP_INDEX", ["ADD", "$START_INDEX", "$NUMBER"]],
                ["FOR_EACH_START_STOP_STEP", "$I", "$START_INDEX", "$STOP_INDEX", 1, [
                    ["VAR", "$ID", "$SPAWN_IDS.[$I]"],
                    ["VAR", "$NAME", "$TARGET_NAME"],
                    ["COND",
                        ["EQUAL", "$NAME", null],
                        ["UPDATE_VAR", "$NAME", "$CARD_DB.{{$ID}}.B.name"]
                    ],
                    ["VAR", "$J", ["ADD", "$I", "$ADD_TO_XY"]],
                    ["DO_SPAWN_LOCATION_SCN", "$NAME", "$ID", "$SPAWN_LEFTS.[$J]", "$SPAWN_TOPS.[$J]"]
                ]]
            ]
        },
        "DO_SPAWN_HIDDEN_AT_LOCATION": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["DEFINE", "$DO_SPAWN_HIDDEN_AT_LOCATION_RESULT", null],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_PLAYER", null],
                        ["NOT_EQUAL", "$TARGET_CARD_ID", null],
                        ["NOT_EQUAL", "$LOCATION_CARD_NAME", null],
                        ["NOT_EQUAL", "$LEFT_MOD", null],
                        ["NOT_EQUAL", "$TOP_MOD", null]
                    ],
                    [
                        ["VAR", "$TARGET_CARD", "$CARD_BY_ID.$TARGET_CARD_ID"],
                        ["VAR", "$LOCATION_CARD", ["GET_NAMED_MAP_LOCATION", "$LOCATION_CARD_NAME"]],
                        ["COND",
                            ["AND",
                                ["NOT_EQUAL", "$TARGET_CARD", null],
                                ["NOT_EQUAL", "$LOCATION_CARD", null]
                            ],
                            [
                                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "spawn {{$TARGET_CARD.sides.B.name}} at {{$LOCATION_CARD.currentFace.name}}.", "spawns {{$TARGET_CARD.sides.B.name}} at {{$LOCATION_CARD.currentFace.name}}."],
                                ["MOVE_CARD", "$TARGET_CARD.id", "sharedLocations", 0, 0, {"allowFlip": false}],
                                ["DO_SET_CARD_LOCATION", "$TARGET_CARD.id", ["ADD", ["GET_CARD_LEFT", "$LOCATION_CARD.id"], "$LEFT_MOD"], ["ADD", ["GET_CARD_TOP", "$LOCATION_CARD.id"], "$TOP_MOD"]],
                                ["DEFINE", "$DO_SPAWN_HIDDEN_AT_LOCATION_RESULT", "$TARGET_CARD.id"]
                            ]
                        ]
                    ]
                ]
            ]
        },
        "DO_SPAWN_HIDDEN_AT_LOCATION_SCN": {
            "args": ["$TARGET_CARD_ID", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD"],
            "code": [
                ["DO_SPAWN_HIDDEN_AT_LOCATION", "$GAME.firstPlayer", "$TARGET_CARD_ID", "$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", true, null]
            ]
        },
        "DO_SPAWN_HIDDEN_AT": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$LEFT", "$TOP", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_SPAWN_HIDDEN_AT.TARGET_PLAYER"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_SPAWN_HIDDEN_AT.TARGET_CARD_ID"]],
                ["VALIDATE_GE0", "$LEFT", "DO_SPAWN_HIDDEN_AT.LEFT"],
                ["VALIDATE_GE0", "$TOP", "DO_SPAWN_HIDDEN_AT.TOP"],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_SPAWN_HIDDEN_AT.LOG_EVENT"],
                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "spawn {{$TARGET_CARD.sides.B.name}}.", "spawns {{$TARGET_CARD.sides.B.name}}."],
                ["MOVE_CARD", "$TARGET_CARD.id", "sharedLocations", -1],
                ["DO_SET_CARD_LOCATION", "$TARGET_CARD.id", "$LEFT", "$TOP"]
            ]
        },
        "DO_SPAWN_HIDDEN_AT_SCN": {
            "args": ["$TARGET_CARD_ID", "$LEFT", "$TOP"],
            "code": [
                ["DO_SPAWN_HIDDEN_AT", "$GAME.firstPlayer", "$TARGET_CARD_ID", "$LEFT", "$TOP", true, null]
            ]
        },
        "DO_PUT_INTO_PLAY_AT": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$LEFT", "$TOP", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_PUT_INTO_PLAY_AT.TARGET_PLAYER"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_PUT_INTO_PLAY_AT.TARGET_CARD_ID"]],
                ["VALIDATE_GE0", "$LEFT", "DO_PUT_INTO_PLAY_AT.LEFT"],
                ["VALIDATE_GE0", "$TOP", "DO_PUT_INTO_PLAY_AT.TOP"],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_PUT_INTO_PLAY_AT.LOG_EVENT"],
                ["DO_LOG", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "put {{$TARGET_CARD.currentFace.name}} into play.", "puts {{$TARGET_CARD.currentFace.name}} into play."],
                ["SET", "/cardById/$TARGET_CARD_ID/playIntent", "putIntoPlay"],
                ["MOVE_CARD", "$TARGET_CARD_ID", "sharedLocations", -1],
                ["SET", "/cardById/$TARGET_CARD_ID/playIntent", ""],
                ["DO_SET_CARD_LOCATION", "$TARGET_CARD_ID", "$LEFT", "$TOP"]
            ]
        },
        "DO_PUT_INTO_PLAY_AT_SCN": {
            "args": ["$TARGET_CARD_ID", "$LEFT", "$TOP"],
            "code": [
                ["DO_PUT_INTO_PLAY_AT", "$GAME.firstPlayer", "$TARGET_CARD_ID", "$LEFT", "$TOP", true, null]
            ]
        },
        "DO_PUT_INTO_PLAY_AT_ACT": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$LEFT", "$TOP"],
            "code": [
                ["DO_PUT_INTO_PLAY_AT", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$LEFT", "$TOP", true, null]
            ]
        },
        "DO_MOVE_TO_GROUP": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$TARGET_GROUP_ID", "$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_MOVE_TO_GROUP.TARGET_PLAYER"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_AND_VALIDATE", "$TARGET_CARD_ID", "DO_MOVE_TO_GROUP.TARGET_CARD_ID"]],
                ["VAR", "$TARGET_GROUP", ["GET_GROUP_AND_VALIDATE", "$TARGET_GROUP_ID", "DO_MOVE_TO_GROUP.TARGET_GROUP_ID"]],
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_PUT_INTO_PLAY_AT.LOG_EVENT"],
                ["COND",
                    ["OR",
                        ["IN_STRING", "$TARGET_GROUP.groupType", "deck"],
                        ["IN_STRING", "$TARGET_GROUP.groupType", "discard"],
                        ["IN_STRING", "$TARGET_GROUP.groupType", "pile"],
                        ["IN_STRING", "$TARGET_GROUP.groupType", "story"]
                    ],
                    [
                        ["DO_LOGF", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "move{A} {0:C} to the top of {1:G}.", ["LIST", "$TARGET_CARD", "$TARGET_GROUP"]],
                        ["MOVE_CARD", "$TARGET_CARD_ID", "$TARGET_GROUP_ID", 0, 0, {"allowFlip": false}]
                    ],
                    ["TRUE"],
                    [
                        ["DO_LOGF", "$LOG_EVENT", "$ACTOR_PLAYER", "$TARGET_PLAYER", "move{A} {0:C} to {1:G}.", ["LIST", "$TARGET_CARD", "$TARGET_GROUP"]],
                        ["MOVE_CARD", "$TARGET_CARD_ID", "$TARGET_GROUP_ID", -1]
                    ]
                ]
            ]
        },
        "DO_MOVE_TO_GROUP_SCN": {
            "args": ["$TARGET_CARD_ID", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_MOVE_TO_GROUP", "$GAME.firstPlayer", "$TARGET_CARD_ID", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_MOVE_TO_GROUP_ACT": {
            "args": ["$TARGET_PLAYER", "$TARGET_CARD_ID", "$TARGET_GROUP_ID"],
            "code": [
                ["DO_MOVE_TO_GROUP", "$TARGET_PLAYER", "$TARGET_CARD_ID", "$TARGET_GROUP_ID", true, null]
            ]
        },
        "DO_SPAWN_MINI_INVESTIGATORS_AT_LOCATION": {
            "args": ["$LOCATION_CARD_NAME", "$LEFT_MOD", "$TOP_MOD", "$X_CHANGE", "$Y_CHANGE"],
            "code": [
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$LOCATION_CARD_NAME", null],
                        ["NOT_EQUAL", "$LEFT_MOD", null],
                        ["NOT_EQUAL", "$TOP_MOD", null],
                        ["NOT_EQUAL", "$X_CHANGE", null],
                        ["NOT_EQUAL", "$Y_CHANGE", null]
                    ],
                    [
                        ["VAR", "$LOCATION_CARD", ["GET_NAMED_MAP_CARD", "$LOCATION_CARD_NAME"]],
                        ["COND",
                            ["NOT_EQUAL", "$LOCATION_CARD", null],
                            [
                                ["VAR", "$X", ["ADD", ["GET_CARD_LEFT", "$LOCATION_CARD.id"], "$LEFT_MOD"]],
                                ["VAR", "$Y", ["ADD", ["GET_CARD_TOP", "$LOCATION_CARD.id"], "$TOP_MOD"]],
                                ["FOR_EACH_VAL", "$PLAYER_I", "$PLAYER_ORDER", [
                                    ["VAR", "$MINI_INVESTIGATOR", ["GET_MINI_INVESTIGATOR", "$PLAYER_I"]],
                                    ["COND",
                                        ["EQUAL", "$MINI_INVESTIGATOR", null],
                                        [
                                            ["VAR", "$INVESTIGATOR", ["GET_INVESTIGATOR", "$PLAYER_I"]],
                                            ["COND",
                                                ["NOT_EQUAL", "$INVESTIGATOR", null],
                                                [
                                                    ["VAR", "$MINI_DATABASE_ID", ["GET_MINI_ID", "m", "$INVESTIGATOR.sides.A.databaseId"]],
                                                    ["COND",
                                                        ["NOT_EQUAL", "$INVESTIGATOR.originalInvestigatorId", null],
                                                        ["UPDATE_VAR", "$MINI_DATABASE_ID", ["GET_MINI_ID", "m", "$INVESTIGATOR.originalInvestigatorId"]]
                                                    ],
                                                    ["DO_CREATE_CARDS", "$PLAYER_I", "{{$INVESTIGATOR.sides.A.name}}", "$MINI_DATABASE_ID", 1, ["GET_CONTROLLER_INVESTIGATOR", "$PLAYER_I"], false, null],
                                                    ["COND",
                                                        ["AND",
                                                            ["NOT_EQUAL", "$GAME.lastLoadedCardIds", null],
                                                            ["EQUAL", ["LENGTH", "$GAME.lastLoadedCardIds"], 1]
                                                        ],
                                                        [
                                                            ["VAR", "$MINI_INVESTIGATOR", "$CARD_BY_ID.{{$GAME.lastLoadedCardIds.[0]}}"],
                                                            ["SET", "/cardById/$MINI_INVESTIGATOR.id/currentSide", "A"],
                                                            ["SET", "/cardById/$MINI_INVESTIGATOR.id/eliminated", false],
                                                            ["COND",
                                                                ["NOT_EQUAL", "$PLAYER_DATA.$PLAYER_I.arkham.customSpawnLocation", null],
                                                                [
                                                                    ["VAR", "$CUSTOM_LOCATION_CARD", ["GET_NAMED_MAP_CARD", "$PLAYER_DATA.$PLAYER_I.arkham.customSpawnLocation"]],
                                                                    ["DO_LOG", true, null, "$PLAYER_I", "spawn {{$MINI_INVESTIGATOR.sides.A.name}} at {{$CUSTOM_LOCATION_CARD.currentFace.name}}.", "spawns {{$MINI_INVESTIGATOR.sides.A.name}} at {{$CUSTOM_LOCATION_CARD.currentFace.name}}."],
                                                                    ["MOVE_CARD", "$MINI_INVESTIGATOR.id", "sharedLocations", -1],
                                                                    ["DO_SET_CARD_LOCATION", "$MINI_INVESTIGATOR.id", "$X", "$Y"],
                                                                    ["DO_MOVE_MINI_INVESTIGATOR_TO", "$PLAYER_I", "$CUSTOM_LOCATION_CARD.id", false, null]
                                                                ],
                                                                ["TRUE"],
                                                                [
                                                                    ["DO_LOG", true, null, "$PLAYER_I", "spawn {{$MINI_INVESTIGATOR.sides.A.name}} at {{$LOCATION_CARD.currentFace.name}}.", "spawns {{$MINI_INVESTIGATOR.sides.A.name}} at {{$LOCATION_CARD.currentFace.name}}."],
                                                                    ["MOVE_CARD", "$MINI_INVESTIGATOR.id", "sharedLocations", -1],
                                                                    ["DO_SET_CARD_LOCATION", "$MINI_INVESTIGATOR.id", "$X", "$Y"],
                                                                    ["INCREASE_VAR", "$X", "$X_CHANGE"],
                                                                    ["INCREASE_VAR", "$Y", "$Y_CHANGE"]
                                                                ]
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]]
                            ]
                        ]
                    ]
                ]
            ]
        },
        "DO_SET_SPAWN_LOCATION": {
            "args": ["$DATABASE_ID", "$LEFT", "$TOP"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$DATABASE_ID", "DO_SET_SPAWN_LOCATION.DATABASE_ID"],
                ["VALIDATE_GE0", "$LEFT", "DO_SET_SPAWN_LOCATION.LEFT"],
                ["VALIDATE_GE0", "$TOP", "DO_SET_SPAWN_LOCATION.TOP"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_BY_DATABASE_ID", "$DATABASE_ID"]],
                ["COND",
                    ["NOT_EQUAL", "$TARGET_CARD", null],
                    [
                        ["SET", "/cardById/$TARGET_CARD.id/spawnLeft", "$LEFT"],
                        ["SET", "/cardById/$TARGET_CARD.id/spawnTop", "$TOP"]
                    ]
                ]
            ]
        },
        "DO_ATTACH_REFERENCE_TO_SCENARIO": {
            "args": ["$FLIP_FACEDOWN"],
            "code": [
                ["VALIDATE_BOOLEAN", "$FLIP_FACEDOWN", "DO_ATTACH_REFERENCE_TO_SCENARIO.FLIP_FACEDOWN"],
                ["VAR", "$SCENARIO_CARD", ["ONE_CARD", "$CARD", ["EQUAL", "$CARD.currentFace.type", "Scenario"]]],
                ["VAR", "$REFERENCE_CARD", ["ONE_CARD", "$CARD", ["EQUAL", "$CARD.currentFace.type", "Reference"]]],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$SCENARIO_CARD", null],
                        ["NOT_EQUAL", "$REFERENCE_CARD", null]
                    ],
                    [
                        ["DO_ATTACH_CARD", "$GAME.firstPlayer", "$REFERENCE_CARD.id", "$SCENARIO_CARD.id", true, null],
                        ["COND",
                            ["EQUAL", "$FLIP_FACEDOWN", true],
                            ["DO_FLIP_FACEDOWN", "$GAME.firstPlayer", "$REFERENCE_CARD.id", true, null]
                        ]
                    ]
                ]
            ]
        },
        "DO_ATTACH_REFERENCE_TO_ID": {
            "args": ["$DATABASE_ID", "$FLIP_FACEDOWN"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$DATABASE_ID", "DO_ATTACH_REFERENCE_TO_ID.DATABASE_ID"],
                ["VALIDATE_BOOLEAN", "$FLIP_FACEDOWN", "DO_ATTACH_REFERENCE_TO_ID.FLIP_FACEDOWN"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_BY_DATABASE_ID", "$DATABASE_ID"]],
                ["VAR", "$REFERENCE_CARD", ["ONE_CARD", "$CARD", ["EQUAL", "$CARD.currentFace.type", "Reference"]]],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_CARD", null],
                        ["NOT_EQUAL", "$REFERENCE_CARD", null]
                    ],
                    [
                        ["DO_ATTACH_CARD", "$GAME.firstPlayer", "$REFERENCE_CARD.id", "$TARGET_CARD.id", true, null],
                        ["COND",
                            ["EQUAL", "$FLIP_FACEDOWN", true],
                            ["DO_FLIP_FACEDOWN", "$GAME.firstPlayer", "$REFERENCE_CARD.id", true, null]
                        ]
                    ]
                ]
            ]
        },
        "DO_ATTACH_ID_TO_ID": {
            "args": ["$TARGET_DATABASE_ID", "$PARENT_DATABASE_ID", "$FLIP_FACEDOWN"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$TARGET_DATABASE_ID", "DO_ATTACH_ID_TO_ID.TARGET_DATABASE_ID"],
                ["VALIDATE_NOT_EMPTY", "$PARENT_DATABASE_ID", "DO_ATTACH_ID_TO_ID.PARENT_DATABASE_ID"],
                ["VALIDATE_BOOLEAN", "$FLIP_FACEDOWN", "DO_ATTACH_ID_TO_ID.FLIP_FACEDOWN"],
                ["VAR", "$TARGET_CARD", ["GET_CARD_BY_DATABASE_ID", "$TARGET_DATABASE_ID"]],
                ["VAR", "$PARENT_CARD", ["GET_CARD_BY_DATABASE_ID", "$PARENT_DATABASE_ID"]],
                ["COND",
                    ["AND",
                        ["NOT_EQUAL", "$TARGET_CARD", null],
                        ["NOT_EQUAL", "$PARENT_CARD", null]
                    ],
                    [
                        ["DO_ATTACH_CARD", "$GAME.firstPlayer", "$TARGET_CARD.id", "$PARENT_CARD.id", true, null],
                        ["COND",
                            ["EQUAL", "$FLIP_FACEDOWN", true],
                            ["DO_FLIP_FACEDOWN", "$GAME.firstPlayer", "$TARGET_CARD.id", true, null]
                        ]
                    ]
                ]
            ]
        },
        "DO_CREATE_DECK_CARD_SCN": {
            "args": ["$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_CREATE_DECK_CARD_SCN.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_NAME", "DO_CREATE_DECK_CARD_SCN.TARGET_NAME"],
                ["VALIDATE_NOT_EMPTY", "$TARGET_DATABASE_ID", "DO_CREATE_DECK_CARD_SCN.TARGET_DATABASE_ID"],
                ["DO_CREATE_CARDS", "$TARGET_PLAYER", "$TARGET_NAME", "$TARGET_DATABASE_ID", 1, ["GET_CONTROLLER_DECK", "$TARGET_PLAYER"], false, null],
                ["VAR", "$NEW_CARD_ID", "{{$GAME.lastLoadedCardIds.[0]}}"],
                ["DO_LOG", true, null, "$TARGET_PLAYER", "add {{$CARD_BY_ID.$NEW_CARD_ID.sides.A.name}} to their deck.", "adds {{$CARD_BY_ID.$NEW_CARD_ID.sides.A.name}} to their deck."],
                ["DO_SHUFFLE_GROUP", "$TARGET_PLAYER", ["GET_CONTROLLER_DECK", "$TARGET_PLAYER"], true, null]
            ]
        },
        "GET_RANDOM_WEAKNESS_DATABASE_ID": {
            "args": ["$FUNCTION_NAME"],
            "code": [
                ["VALIDATE_NOT_EMPTY", "$FUNCTION_NAME", "GET_RANDOM_WEAKNESS_DATABASE_ID.FUNCTION_NAME"],
                ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                    ["IN_STRING", "$CARD.groupId", "player"],
                    ["IN_STRING", "$CARD.groupId", "Deck"]
                ]]],
                ["VAR", "$USED_SET_UUIDS", ["LIST", "core"]],
                ["VAR", "$USED_WEAKNESSES", ["LIST"]],
                ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                    ["COND",
                        ["NOT_EQUAL", ["IN_LIST", "$USED_SET_UUIDS", "$CARD.sides.A.setUuid"], true],
                        ["UPDATE_VAR", "$USED_SET_UUIDS", ["APPEND", "$USED_SET_UUIDS", "$CARD.sides.A.setUuid"]]
                    ],
                    ["COND",
                        ["AND",
                            ["EQUAL", "$CARD.sides.A.subtype", "Basic Weakness"],
                            ["NOT_EQUAL", "$CARD.sides.A.name", "Random Basic Weakness"]
                        ],
                        ["UPDATE_VAR", "$USED_WEAKNESSES", ["APPEND", "$USED_WEAKNESSES", "$CARD.sides.A.databaseId"]]
                    ]
                ]],
                ["VAR", "$AVAILABLE_WEAKNESSES", ["LIST"]],
                ["FOR_EACH_VAL", "$SET_UUID", "$USED_SET_UUIDS", [
                    ["VAR", "$SET_WEAKNESSES", ["$FUNCTION_NAME", "$SET_UUID"]],
                    ["FOR_EACH_VAL", "$WEAKNESS_ID", "$SET_WEAKNESSES", [
                        ["UPDATE_VAR", "$AVAILABLE_WEAKNESSES", ["APPEND", "$AVAILABLE_WEAKNESSES", "$WEAKNESS_ID"]]
                    ]]
                ]],
                ["FOR_EACH_VAL", "$WEAKNESS_ID", "$USED_WEAKNESSES", [
                    ["UPDATE_VAR", "$AVAILABLE_WEAKNESSES", ["REMOVE_FIRST_FROM_LIST_BY_VALUE", "$AVAILABLE_WEAKNESSES", "$WEAKNESS_ID"]]
                ]],
                ["COND",
                    ["EQUAL", "$GAME.arkham.numPlayers", 1],
                    [
                        ["UPDATE_VAR", "$AVAILABLE_WEAKNESSES", ["REMOVE_FROM_LIST_BY_VALUE", "$AVAILABLE_WEAKNESSES", "06035"]], //Self-Centered (Multiplayer only.)
                        ["UPDATE_VAR", "$AVAILABLE_WEAKNESSES", ["REMOVE_FROM_LIST_BY_VALUE", "$AVAILABLE_WEAKNESSES", "06036"]], //Kleptomania
                        ["UPDATE_VAR", "$AVAILABLE_WEAKNESSES", ["REMOVE_FROM_LIST_BY_VALUE", "$AVAILABLE_WEAKNESSES", "06037"]], //Narcolepsy
                        ["UPDATE_VAR", "$AVAILABLE_WEAKNESSES", ["REMOVE_FROM_LIST_BY_VALUE", "$AVAILABLE_WEAKNESSES", "06038"]]  //Your Worst Nightmare
                    ]
                ],
                ["AT_INDEX", "$AVAILABLE_WEAKNESSES", ["RANDOM_INT", 0, ["SUBTRACT", ["LENGTH", "$AVAILABLE_WEAKNESSES"], 1]]]
            ]
        },
        "SCENARIO_INIT": {
            "args": ["$CHAOS_BAG_CAMPAIGN_NAME", "$CAMPAIGN_NAME", "$SCENARIO_NAME", "$SCENARIO_EARLY_ACTION", "$SCENARIO_ACTION"],
            "code": [
                ["COND",
                    ["EQUAL", "$GAME.arkham.scenarioInit", true],
                    [
                        ["VAR", "$PRESENT_INVESTIGATORS", 0],
                        ["VAR", "$PRESENT_DECKS", 0],
                        ["FOR_EACH_VAL", "$PLAYER_I", "$PLAYER_ORDER", [
                            ["VAR", "$INVESTIGATOR_I", ["GET_INVESTIGATOR", "$PLAYER_I"]],
                            ["COND",
                                ["NOT_EQUAL", "$INVESTIGATOR_I", null],
                                ["INCREASE_VAR", "$PRESENT_INVESTIGATORS", 1]
                            ],
                            ["VAR", "$PLAYER_I_DECK", ["GET_CONTROLLER_DECK", "$PLAYER_I"]],
                            ["COND",
                                ["GREATER_THAN", ["LENGTH", "$GROUP_BY_ID.$PLAYER_I_DECK.stackIds"], 20],
                                ["INCREASE_VAR", "$PRESENT_DECKS", 1]
                            ]
                        ]],
                        ["COND",
                            ["EQUAL", "$GAME.arkham.skipDeckCheck", true],
                            ["UPDATE_VAR", "$PRESENT_DECKS", "$GAME.numPlayers"]
                        ],
                        ["COND",
                            ["AND",
                                ["EQUAL", "$PRESENT_INVESTIGATORS", "$GAME.numPlayers"],
                                ["EQUAL", "$PRESENT_DECKS", "$GAME.numPlayers"]
                            ],
                            [
                                ["SET", "/arkham/chaosBagCampaignName", "$CHAOS_BAG_CAMPAIGN_NAME"],
                                ["SET", "/arkham/campaignName", "$CAMPAIGN_NAME"],
                                ["SET", "/arkham/scenarioName", "$SCENARIO_NAME"],
                                ["SET", "/arkham/scenarioDifficulty", "Standard"],
                                ["SET", "/arkham/scenarioAction", "$SCENARIO_ACTION"],
                                ["SET", "/arkham/scenarioActionAfterStep7", null],
                                ["SET", "/arkham/numScenarioQuestions", 0],
                                ["SET", "/arkham/scenarioQuestionIndex", 0],
                                ["SET", "/arkham/numPlayers", "$GAME.numPlayers"],
                                ["SET", "/arkham/traumaDone", 0],
                                ["SET", "/arkham/startingHandDone", 0],
                                ["SET", "/arkham/customSpawnChoiceDone", 0],
                                ["SET", "/arkham/customSpawnChoiceScenarioContinueAction", null],
                                ["SET", "/arkham/skipShufflingEncounterDeck", false],
                                ["SET", "/arkham/skipShufflingSharedDeckA", false],
                                ["SET", "/arkham/skipShufflingSharedDeckB", false],
                                ["SET", "/arkham/skipShufflingSharedDeckC", false],
                                ["SET", "/arkham/offMapNotInPlay", false],
                                ["SET", "/arkham/finalScenarioMessage", null],
                                ["SET", "/arkham/activeInvestigator", null],
                                ["SET", "/arkham/playWithEncounterDeckCardRevealed", 0],
                                ["VAR", "$INVESTIGATOR", ["GET_INVESTIGATOR", "$GAME.firstPlayer"]],
                                ["LOG", "└── {{$ALIAS_N}} initializes {{$GAME.arkham.scenarioName}} scenario with {{$GAME.arkham.numPlayers}} player(s) and ", ["GET_ALIAS", "$GAME.firstPlayer"], "'s {{$INVESTIGATOR.currentFace.name}} as the lead investigator."],
                                ["DO_UPDATE_LEAD_INVESTIGATOR_TOKEN"],
                                ["DO_UPDATE_INVESTIGATOR_NAMES"],
                                ["INIT_ALL_EVENTS"],
                                ["FOR_EACH_VAL", "$PLAYER_I", "$PLAYER_ORDER", [
                                    ["SET", "/playerData/$PLAYER_I/arkham/playWithTopDeckCardRevealed", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/playWithTopExtraDeckCardRevealed", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/startingDamageMod", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/startingHorrorMod", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/startingResourcesMod", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/startingCardsMod", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/disableMulligan", false],
                                    ["SET", "/playerData/$PLAYER_I/arkham/customSpawnLocation", null],
                                    ["SET", "/playerData/$PLAYER_I/arkham/customMythosPhasePlayerOrderController", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/mythosPhaseCardDrawn", false],
                                    ["SET", "/playerData/$PLAYER_I/arkham/bonusCharges", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/bonusAmmo", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/upkeepResourcesMod", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/upkeepCardsMod", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/defaultMaxHandSize", 8],
                                    ["SET", "/playerData/$PLAYER_I/arkham/maxHandSize", 0],
                                    ["SET", "/playerData/$PLAYER_I/arkham/handSizeCountUnique", 0],
                                    ["INIT_ALL_PLAYER_EVENTS", "$PLAYER_I"],
                                    ["VAR", "$INVESTIGATOR_I", ["GET_INVESTIGATOR", "$PLAYER_I"]],
                                    ["SET", "/cardById/$INVESTIGATOR_I.id/eliminated", false],
                                    ["VAR", "$PLAYER_I_DECK", ["GET_CONTROLLER_DECK", "$PLAYER_I"]],
                                    ["VAR", "$PLAYER_I_EXTRA_DECK", ["GET_CONTROLLER_EXTRA_DECK", "$PLAYER_I"]],
                                    ["VAR", "$PLAYER_I_ALIAS", ["GET_ALIAS", "$PLAYER_I"]],
                                    ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                                        ["EQUAL", "$CARD.groupId", "$PLAYER_I_DECK"],
                                        ["EQUAL", "$CARD.sides.A.subtype", "Basic Weakness"],
                                        ["EQUAL", "$CARD.sides.A.name", "Random Basic Weakness"]
                                    ]]],
                                    ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                                        ["LOG", "└── Replacing Random Basic Weakness in {{$PLAYER_I_ALIAS}}'s deck."],
                                        ["DELETE_CARD", "$CARD.id"],
                                        ["DO_CREATE_CARDS", "$PLAYER_I", "random Basic Weakness", ["GET_RANDOM_WEAKNESS_DATABASE_ID", "GET_LIST_OF_WEAKNESSES"], 1, "$PLAYER_I_DECK", false, null]
                                    ]],
                                    ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                                        ["OR",
                                            ["EQUAL", "$CARD.groupId", "$PLAYER_I_DECK"],
                                            ["EQUAL", "$CARD.groupId", "$PLAYER_I_EXTRA_DECK"],
                                            ["EQUAL", "$CARD.id", "$INVESTIGATOR_I.id"]
                                        ],
                                        ["EQUAL", "$CARD.sides.A.hasBonded", true]
                                    ]]],
                                    ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                                        ["DO_SPAWN_BONDED" , "$CARD.sides.A.databaseId", "$PLAYER_I"]
                                    ]],
                                    ["SET", "/playerData/$PLAYER_I/arkham/playerInPlay", true],
                                    ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                                        ["EQUAL", "$CARD.groupId", "$PLAYER_I_DECK"],
                                        ["EQUAL", "$CARD.sides.A.type", "Key"]
                                    ]]],
                                    ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                                        ["ATTACH_CARD", "$CARD.id", "$INVESTIGATOR_I.id"]
                                    ]],
                                    ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                                        ["EQUAL", "$CARD.groupId", "$PLAYER_I_DECK"],
                                        ["EQUAL", "$CARD.sides.A.permanent", true]
                                    ]]],
                                    ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                                        ["MOVE_CARD", "$CARD.id", ["GET_CONTROLLER_PLAY", "$PLAYER_I"], -1]
                                    ]]
                                ]],
                                ["COND",
                                    ["NOT_EQUAL", "$SCENARIO_EARLY_ACTION", null],
                                    ["ACTION_LIST", "$SCENARIO_EARLY_ACTION"],
                                    ["TRUE"],
                                    ["DO_ASK_FOR_STARTING_PHYSICAL_TRAUMA"]
                                ]
                            ],
                            ["TRUE"],
                            ["LOG", "└── Not all players have loaded their investigators and/or decks."]
                        ]
                    ],
                    ["TRUE"],
                    ["LOG", "└── To load another scenario, clear the table."]
                ]
            ]
        },
        "SCENARIO_INIT_RESUME": {
            "args": ["$NEXT_SCENARIO_ACTION"],
            "code": [
                ["SET", "/arkham/scenarioAction", "$NEXT_SCENARIO_ACTION"],
                ["DO_ASK_FOR_STARTING_PHYSICAL_TRAUMA"]
            ]
        },
        "DO_ASK_FOR_STARTING_PHYSICAL_TRAUMA": {
            "args": [],
            "code": [
                ["FOR_EACH_VAL", "$PLAYER_I", "$PLAYER_ORDER", [
                    ["PROMPT", "$PLAYER_I", "startingPhysicalTrauma"],
                    ["FOR_EACH_START_STOP_STEP", "$I", "$PLAYER_DATA.$PLAYER_I.arkham.startingDamageMod", 10, 1, [
                        ["PROMPT_ADD_OPTION", "$PLAYER_I", "{{$I}} trauma.", "{{$I}}", ["LIST", "PLACE_STARTING_DAMAGE_ON_INVESTIGATOR_STR", "{{$I}}"]]
                    ]]
                ]]
            ]
        },
        "PLACE_STARTING_DAMAGE_ON_INVESTIGATOR": {
            "args": ["$NUMBER_OF_TOKENS"],
            "code": [
                ["VAR", "$INVESTIGATOR", ["GET_INVESTIGATOR", "$PLAYER_N"]],
                ["COND",
                    ["GREATER_THAN", "$NUMBER_OF_TOKENS", 0],
                    ["DO_PLACE_DAMAGE_ON_CARD", "$PLAYER_N", "$INVESTIGATOR.id", "$NUMBER_OF_TOKENS", true, "$PLAYER_N"],
                    ["TRUE"],
                    ["DO_LOG", true, "$PLAYER_N", "$PLAYER_N", "declare no physical trauma of {{$INVESTIGATOR.currentFace.name}}.", "declares no physical trauma of {{$INVESTIGATOR.currentFace.name}}."]
                ],
                ["DO_ASK_FOR_STARTING_MENTAL_TRAUMA", "$PLAYER_N"]
            ]
        },
        "PLACE_STARTING_DAMAGE_ON_INVESTIGATOR_STR": {
            "args": ["$NUMBER_OF_TOKENS"],
            "code": [
                ["PLACE_STARTING_DAMAGE_ON_INVESTIGATOR", ["CALC", "{{$NUMBER_OF_TOKENS}}"]]
            ]
        },
        "DO_ASK_FOR_STARTING_MENTAL_TRAUMA": {
            "args": ["$TARGET_PLAYER"],
            "code": [
                ["PROMPT", "$TARGET_PLAYER", "startingMentalTrauma"],
                ["FOR_EACH_START_STOP_STEP", "$I", "$PLAYER_DATA.$TARGET_PLAYER.arkham.startingHorrorMod", 10, 1, [
                    ["PROMPT_ADD_OPTION", "$TARGET_PLAYER", "{{$I}} trauma.", "{{$I}}", ["LIST", "PLACE_STARTING_HORROR_ON_INVESTIGATOR_STR", "{{$I}}"]]
                ]]
            ]
        },
        "PLACE_STARTING_HORROR_ON_INVESTIGATOR": {
            "args": ["$NUMBER_OF_TOKENS"],
            "code": [
                ["VAR", "$INVESTIGATOR", ["GET_INVESTIGATOR", "$PLAYER_N"]],
                ["COND",
                    ["GREATER_THAN", "$NUMBER_OF_TOKENS", 0],
                    ["DO_PLACE_HORROR_ON_CARD", "$PLAYER_N", "$INVESTIGATOR.id", "$NUMBER_OF_TOKENS", true, "$PLAYER_N"],
                    ["TRUE"],
                    ["DO_LOG", true, "$PLAYER_N", "$PLAYER_N", "declare no mental trauma of {{$INVESTIGATOR.currentFace.name}}.", "declares no mental trauma of {{$INVESTIGATOR.currentFace.name}}."]
                ],
                ["INCREASE_VAL", "/arkham/traumaDone", 1],
                ["COND",
                    ["GREATER_EQUAL", "$GAME.arkham.traumaDone", "$GAME.numPlayers"],
                    ["PROMPT", "$GAME.firstPlayer", "chooseScenarioDifficulty"]
                ]
            ]
        },
        "PLACE_STARTING_HORROR_ON_INVESTIGATOR_STR": {
            "args": ["$NUMBER_OF_TOKENS"],
            "code": [
                ["PLACE_STARTING_HORROR_ON_INVESTIGATOR", ["CALC", "{{$NUMBER_OF_TOKENS}}"]]
            ]
        },
        "SET_SCENARIO_DIFFICULTY": {
            "args": ["$DIFFICULTY_NAME"],
            "code": [
                ["LOG", "{{$ALIAS_N}} sets scenario difficulty to {{$DIFFICULTY_NAME}}."],
                ["SET", "/arkham/scenarioDifficulty", "$DIFFICULTY_NAME"],
                ["DO_LOAD_CARDS", "$GAME.firstPlayer", "{{$GAME.arkham.chaosBagCampaignName}} Chaos Bag - {{$DIFFICULTY_NAME}}", true, null],
                ["GAIN_STARTING_RESOURCES"]
            ]
        },
        "GET_STARTING_RESOURCES": {
            "args": ["$TARGET_PLAYER", "$DEFAULT_NUMBER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "GET_STARTING_RESOURCES.TARGET_PLAYER"],
                ["VALIDATE_GT0", "$DEFAULT_NUMBER", "GET_STARTING_RESOURCES.DEFAULT_NUMBER"],
                ["VAR", "$NUMBER", ["ADD", "$DEFAULT_NUMBER", "$PLAYER_DATA.$TARGET_PLAYER.arkham.startingResourcesMod"]],
                ["COND",
                    ["LESS_THAN", "$NUMBER", 0],
                    0,
                    ["TRUE"],
                    "$NUMBER"
                ]
            ]
        },
        "GET_UPKEEP_RESOURCES": {
            "args": ["$TARGET_PLAYER", "$DEFAULT_NUMBER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "GET_UPKEEP_RESOURCES.TARGET_PLAYER"],
                ["VALIDATE_GT0", "$DEFAULT_NUMBER", "GET_UPKEEP_RESOURCES.DEFAULT_NUMBER"],
                ["VAR", "$NUMBER", ["ADD", "$DEFAULT_NUMBER", "$PLAYER_DATA.$TARGET_PLAYER.arkham.upkeepResourcesMod"]],
                ["COND",
                    ["LESS_THAN", "$NUMBER", 0],
                    0,
                    ["TRUE"],
                    "$NUMBER"
                ]
            ]
        },
        "GET_STARTING_CARDS": {
            "args": ["$TARGET_PLAYER", "$DEFAULT_NUMBER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "GET_STARTING_CARDS.TARGET_PLAYER"],
                ["VALIDATE_GT0", "$DEFAULT_NUMBER", "GET_STARTING_CARDS.DEFAULT_NUMBER"],
                ["VAR", "$NUMBER", ["ADD", "$DEFAULT_NUMBER", "$PLAYER_DATA.$TARGET_PLAYER.arkham.startingCardsMod"]],
                ["COND",
                    ["LESS_THAN", "$NUMBER", 0],
                    0,
                    ["TRUE"],
                    "$NUMBER"
                ]
            ]
        },
        "GET_UPKEEP_CARDS": {
            "args": ["$TARGET_PLAYER", "$DEFAULT_NUMBER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "GET_UPKEEP_CARDS.TARGET_PLAYER"],
                ["VALIDATE_GT0", "$DEFAULT_NUMBER", "GET_UPKEEP_CARDS.DEFAULT_NUMBER"],
                ["VAR", "$NUMBER", ["ADD", "$DEFAULT_NUMBER", "$PLAYER_DATA.$TARGET_PLAYER.arkham.upkeepCardsMod"]],
                ["COND",
                    ["LESS_THAN", "$NUMBER", 0],
                    0,
                    ["TRUE"],
                    "$NUMBER"
                ]
            ]
        },
        "GET_DEFAULT_MAX_HAND_SIZE": {
            "args": ["$TARGET_PLAYER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "GET_DEFAULT_MAX_HAND_SIZE.TARGET_PLAYER"],
                ["VAR", "$NUMBER", "$PLAYER_DATA.$TARGET_PLAYER.arkham.defaultMaxHandSize"],
                ["COND",
                    ["LESS_THAN", "$NUMBER", 0],
                    0,
                    ["TRUE"],
                    "$NUMBER"
                ]
            ]
        },
        "GET_MAX_HAND_SIZE": {
            "args": ["$TARGET_PLAYER", "$DEFAULT_NUMBER"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "GET_MAX_HAND_SIZE.TARGET_PLAYER"],
                ["VALIDATE_GT0", "$DEFAULT_NUMBER", "GET_MAX_HAND_SIZE.DEFAULT_NUMBER"],
                ["VAR", "$NUMBER", ["ADD", "$DEFAULT_NUMBER", "$PLAYER_DATA.$TARGET_PLAYER.arkham.maxHandSize"]],
                ["COND",
                    ["LESS_THAN", "$NUMBER", 0],
                    0,
                    ["TRUE"],
                    "$NUMBER"
                ]
            ]
        },
        "GAIN_STARTING_RESOURCES": {
            "args": [],
            "code": [
                ["FOR_EACH_VAL", "$PLAYER_I", "$PLAYER_ORDER", [
                    ["VAR", "$STARTING_RESOURCES", ["GET_STARTING_RESOURCES", "$PLAYER_I", 5]],
                    ["COND",
                        ["GREATER_THAN", "$STARTING_RESOURCES", 0],
                        ["DO_GAIN_RESOURCES", "$PLAYER_I", "$STARTING_RESOURCES", true, null]
                    ]
                ]],
                ["COND",
                    ["NOT_EQUAL", "$GAME.arkham.scenarioActionAfterStep7", null],
                    ["ACTION_LIST", "$GAME.arkham.scenarioActionAfterStep7"],
                    ["TRUE"],
                    ["DRAW_STARTING_HANDS"]
                ]
            ]
        },
        "DRAW_STARTING_HANDS": {
            "args": [],
            "code": [
                ["FOR_EACH_VAL", "$PLAYER_I", "$PLAYER_ORDER", [
                    ["DO_SHUFFLE_GROUP", "$PLAYER_I", ["GET_CONTROLLER_DECK", "$PLAYER_I"], true, null],
                    ["DEFAULT_DRAW_STARTING_HAND", "$PLAYER_I"]
                ]]
            ]
        },
        "DEFAULT_DRAW_STARTING_HAND": {
            "args": ["$PLAYER_I"],
            "code": [
                ["EXECUTE_PLAYER_EVENT", "$PLAYER_I", "BeforeDraw", "BEFORE_DRAW_DONE", "BEFORE_DRAW_DONE"]
            ]
        },
        "BEFORE_DRAW_DONE": {
            "args": ["$PLAYER_I"],
            "code": [
                ["EXECUTE_PLAYER_EVENT", "$PLAYER_I", "Draw", "DRAW_DONE", "OPENING_HAND_FINISHED"]
            ]
        },
        "DRAW_DONE": {
            "args": ["$PLAYER_I"],
            "code": [
                ["VAR", "$STARTING_CARDS", ["GET_STARTING_CARDS", "$PLAYER_I", 5]],
                ["COND",
                    ["GREATER_THAN", "$STARTING_CARDS", 0],
                    ["DO_DRAW_CARDS_EXT", "$PLAYER_I", ["GET_CONTROLLER_DECK", "$PLAYER_I"], "$STARTING_CARDS", true, true, null]
                ],
                ["COND",
                    ["EQUAL", "$PLAYER_DATA.$PLAYER_I.arkham.disableMulligan", false],
                    ["PROMPT", "$PLAYER_I", "decideAboutMulligan"],
                    ["TRUE"],
                    ["OPENING_HAND_FINISHED", "$PLAYER_I"]
                ]
            ]
        },
        "DRAW_MULLIGAN_HAND": {
            "args": ["$DO_MULLIGAN"],
            "code": [
                ["VAR", "$SELECTED_CARDS", ["GET_TARGETED_CARDS_IN_GROUP", ["GET_CONTROLLER_HAND", "$PLAYER_N"], "$PLAYER_N"]],
                ["DO_CLEAR_TARGETED_FROM_LIST", "$SELECTED_CARDS", "$PLAYER_N"],
                ["COND",
                    ["AND",
                        ["EQUAL", "$DO_MULLIGAN", true],
                        ["GREATER_THAN", ["LENGTH", "$SELECTED_CARDS"], 0]
                    ],
                    [
                        ["DO_LOG", true, "$PLAYER_N", "$PLAYER_N", "take a mulligan.", "takes a mulligan."],
                        ["DO_DRAW_CARDS_EXT", "$PLAYER_N", ["GET_CONTROLLER_DECK", "$PLAYER_N"], ["LENGTH", "$SELECTED_CARDS"], true, true, null],
                        ["DO_SHUFFLE_LIST_INTO_GROUP", "$PLAYER_N", "$SELECTED_CARDS", ["GET_CONTROLLER_DECK", "$PLAYER_N"], true, null]
                    ],
                    ["TRUE"],
                    ["DO_LOG", true, "$PLAYER_N", "$PLAYER_N", "do not take a mulligan.", "does not take a mulligan."]
                ],
                ["OPENING_HAND_FINISHED", "$PLAYER_N"]
            ]
        },
        "OPENING_HAND_FINISHED": {
            "args": ["$PLAYER_I"],
            "code": [
                ["EXECUTE_PLAYER_EVENT", "$PLAYER_I", "AfterDraw", "AFTER_DRAW_DONE", "AFTER_DRAW_DONE"]
            ]
        },
        "AFTER_DRAW_DONE": {
            "args": ["$PLAYER_I"],
            "code": [
                ["INCREASE_VAL", "/arkham/startingHandDone", 1],
                ["COND",
                    ["GREATER_EQUAL", "$GAME.arkham.startingHandDone", "$GAME.numPlayers"],
                    ["COND",
                        ["NOT_EQUAL", "$GAME.arkham.scenarioAction", null],
                        ["ACTION_LIST", "$GAME.arkham.scenarioAction"],
                        ["TRUE"],
                        ["SCENARIO_INIT_FINISH"]
                    ]
                ]
            ]
        },
        "ADD_SCENARIO_QUESTION": {
            "args": ["$MESSAGE", "$LIST_OF_QUESTIONS"],
            "code": [
                ["SET", "/arkham/scenarioQuestion{{$GAME.arkham.numScenarioQuestions}}", "$MESSAGE"],
                ["SET", "/arkham/scenarioQuestionList{{$GAME.arkham.numScenarioQuestions}}", "$LIST_OF_QUESTIONS"],
                ["INCREASE_VAL", "/arkham/numScenarioQuestions", 1]
            ]
        },
        "SCENARIO_INIT_CONTINUE": {
            "args": ["$NEXT_SCENARIO_ACTION"],
            "code": [
                ["SET", "/arkham/scenarioAction", "$NEXT_SCENARIO_ACTION"],
                ["SHOW_SCENARIO_QUESTION_PROMPT"]
            ]
        },
        "ASK_SCENARIO_QUESTION_AND_CONTINUE": {
            "args": ["$MESSAGE", "$LIST_OF_QUESTIONS", "$NEXT_SCENARIO_ACTION"],
            "code": [
                ["ADD_SCENARIO_QUESTION", "$MESSAGE", "$LIST_OF_QUESTIONS"],
                ["SCENARIO_INIT_CONTINUE", "$NEXT_SCENARIO_ACTION"]
            ]
        },
        "SHOW_SCENARIO_QUESTION_PROMPT": {
            "args": [],
            "code": [
                ["COND",
                    ["LESS_THAN", "$GAME.arkham.scenarioQuestionIndex", "$GAME.arkham.numScenarioQuestions"],
                    [
                        ["PROMPT", "$GAME.firstPlayer", "scenarioQuestion", "$GAME.arkham.scenarioQuestion{{$GAME.arkham.scenarioQuestionIndex}}"],
                        ["VAR", "$INDEX", 0],
                        ["FOR_EACH_VAL", "$QUESTION_I", "$GAME.arkham.scenarioQuestionList{{$GAME.arkham.scenarioQuestionIndex}}", [
                            ["VAR", "$LETTER", ["SUBSTRING", "ABCDEFGHIJKLMNOPQRSTUVWXYZ", "$INDEX", 1]],
                            ["PROMPT_ADD_OPTION", "$GAME.firstPlayer", "$QUESTION_I", "{{$LETTER}}", ["LIST", "SCENARIO_QUESTION_ANSWER", "{{$LETTER}}", "{{$QUESTION_I}}"]],
                            ["INCREASE_VAR", "$INDEX", 1]
                        ]]
                    ],
                    ["TRUE"],
                    ["COND",
                        ["NOT_EQUAL", "$GAME.arkham.scenarioAction", null],
                        ["ACTION_LIST", "$GAME.arkham.scenarioAction"],
                        ["TRUE"],
                        ["SCENARIO_INIT_FINISH"]
                    ]
                ]
            ]
        },
        "SCENARIO_QUESTION_ANSWER": {
            "args": ["$QUESTION_ANSWER", "$QUESTION_TEXT"],
            "code": [
                ["INCREASE_VAL", "/arkham/scenarioQuestionIndex", 1],
                ["LOG", "{{$ALIAS_N}} picks option {{$QUESTION_ANSWER}} in scenario question {{$GAME.arkham.scenarioQuestionIndex}}."],
                ["SET", "/arkham/scenarioAnswer{{$GAME.arkham.scenarioQuestionIndex}}", "$QUESTION_ANSWER"],
                ["SET", "/arkham/scenarioAnswer{{$GAME.arkham.scenarioQuestionIndex}}Text", "$QUESTION_TEXT"],
                ["SHOW_SCENARIO_QUESTION_PROMPT"]
            ]
        },
        "SCENARIO_SKIP_QUESTION_WITH_ANSWER": {
            "args": ["$ANSWER", "$TEXT", "$NEXT_SCENARIO_ACTION"],
            "code": [
                ["SET", "/arkham/scenarioQuestion{{$GAME.arkham.numScenarioQuestions}}", "dummy"],
                ["SET", "/arkham/scenarioQuestionList{{$GAME.arkham.numScenarioQuestions}}", ["LIST", "dummy", "dummy"]],
                ["INCREASE_VAL", "/arkham/numScenarioQuestions", 1],
                ["SET", "/arkham/scenarioAction", "$NEXT_SCENARIO_ACTION"],
                ["INCREASE_VAL", "/arkham/scenarioQuestionIndex", 1],
                ["SET", "/arkham/scenarioAnswer{{$GAME.arkham.scenarioQuestionIndex}}", "$ANSWER"],
                ["SET", "/arkham/scenarioAnswer{{$GAME.arkham.scenarioQuestionIndex}}Text", "$TEXT"],
                ["SHOW_SCENARIO_QUESTION_PROMPT"]
            ]
        },
        "SCENARIO_SKIP_QUESTION": {
            "args": ["$NEXT_SCENARIO_ACTION"],
            "code": [
                ["SCENARIO_SKIP_QUESTION_WITH_ANSWER", "X", "dummy", "$NEXT_SCENARIO_ACTION"]
            ]
        },
        "SCENARIO_SKIP_QUESTIONS": {
            "args": ["$NUMBER_OF_QUESTIONS", "$NEXT_SCENARIO_ACTION"],
            "code": [
                ["VALIDATE_GT0", "$NUMBER_OF_QUESTIONS", "SCENARIO_SKIP_QUESTIONS.NUMBER_OF_QUESTIONS"],
                ["FOR_EACH_START_STOP_STEP", "$I", 0, "$NUMBER_OF_QUESTIONS", 1, [
                    ["SET", "/arkham/scenarioQuestion{{$GAME.arkham.numScenarioQuestions}}", "dummy"],
                    ["SET", "/arkham/scenarioQuestionList{{$GAME.arkham.numScenarioQuestions}}", ["LIST", "dummy", "dummy"]],
                    ["INCREASE_VAL", "/arkham/numScenarioQuestions", 1],
                    ["SET", "/arkham/scenarioAction", "$NEXT_SCENARIO_ACTION"],
                    ["INCREASE_VAL", "/arkham/scenarioQuestionIndex", 1],
                    ["SET", "/arkham/scenarioAnswer{{$GAME.arkham.scenarioQuestionIndex}}", "X"],
                    ["SET", "/arkham/scenarioAnswer{{$GAME.arkham.scenarioQuestionIndex}}Text", "dummy"]
                ]],
                ["SHOW_SCENARIO_QUESTION_PROMPT"]
            ]
        },
        "GET_FIRST_OF_SHUFFLED_LIST": {
            "args": ["$LIST"],
            "code": [
                ["VAR", "$SHUFFLED_LIST", ["SHUFFLE_LIST", "$LIST"]],
                "$SHUFFLED_LIST.[0]"
            ]
        },
        "SCENARIO_INIT_RESOURCES": {
            "args": [],
            "code": [
                ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                    ["EQUAL", "$CARD.inPlay", true],
                    ["EQUAL", "$CARD.usesPlaced", false],
                    ["GREATER_THAN", ["GET_CARD_USES", "$CARD.id"], 0]
                ]]],
                ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                    ["DO_PLACE_RESOURCES_ON_CARD", ["GET_PLAYER_CONTROLLER", "$GAME.firstPlayer", "$CARD.id"], "$CARD.id", ["GET_CARD_USES", "$CARD.id"], true, null],
                    ["SET", "/cardById/$CARD.id/usesPlaced", true]
                ]]
            ]
        },
        "SCENARIO_INIT_CLUES": {
            "args": [],
            "code": [
                ["VAR", "$SELECTED_CARDS", ["FILTER_CARDS", "$CARD", ["AND",
                    ["EQUAL", "$CARD.inPlay", true],
                    ["EQUAL", "$CARD.cluesPlaced", false],
                    ["EQUAL", "$CARD.currentFace.type", "Location"],
                    ["GREATER_THAN", ["GET_CARD_CLUES_REQUIREMENT", "$CARD.id"], 0]
                ]]],
                ["FOR_EACH_VAL", "$CARD", "$SELECTED_CARDS", [
                    ["DO_PLACE_CLUES_ON_CARD", ["GET_PLAYER_CONTROLLER", "$GAME.firstPlayer", "$CARD.id"], "$CARD.id", ["GET_CARD_CLUES_REQUIREMENT", "$CARD.id"], true, null],
                    ["SET", "/cardById/$CARD.id/cluesPlaced", true]
                ]]
            ]
        },
        "SCENARIO_INIT_FINISH": {
            "args": [],
            "code": [
                ["COND",
                    ["EQUAL", "$GAME.arkham.skipShufflingEncounterDeck", false],
                    ["DO_SHUFFLE_GROUP", "$GAME.firstPlayer", "sharedEncounterDeck", true, null]
                ],
                ["COND",
                    ["EQUAL", "$GAME.arkham.skipShufflingSharedDeckA", false],
                    ["DO_SHUFFLE_GROUP", "$GAME.firstPlayer", "sharedDeckA", true, null]
                ],
                ["COND",
                    ["EQUAL", "$GAME.arkham.skipShufflingSharedDeckB", false],
                    ["DO_SHUFFLE_GROUP", "$GAME.firstPlayer", "sharedDeckB", true, null]
                ],
                ["COND",
                    ["EQUAL", "$GAME.arkham.skipShufflingSharedDeckC", false],
                    ["DO_SHUFFLE_GROUP", "$GAME.firstPlayer", "sharedDeckC", true, null]
                ],
                ["SET", "/roundNumber", 1],
                ["SET", "/arkham/scenarioInit", false],
                ["SET", "/stepId", "I1"],
                ["DO_REFRESH_ALL_STORIES"],
                ["SCENARIO_INIT_RESOURCES"],
                ["SCENARIO_INIT_CLUES"],
                ["COND",
                    ["EQUAL", "$GAME.arkham.finalScenarioMessage", null],
                    ["LOG", "└── Game begins with the Investigation phase. Adjust the Chaos Bag to match your Campaign."],
                    ["TRUE"],
                    ["LOG", "└── Game begins with the Investigation phase. Adjust the Chaos Bag to match your Campaign. {{$GAME.arkham.finalScenarioMessage}}"]
                ]
            ]
        },
        "SCENARIO_CUSTOM_SPAWN_CHOICE": {
            "args": ["$LOCATION_NAMES", "$SCENARIO_CONTINUE_ACTION"],
            "code": [
                ["SET", "/arkham/customSpawnChoiceDone", 0],
                ["SET", "/arkham/customSpawnChoiceScenarioContinueAction", "$SCENARIO_CONTINUE_ACTION"],
                ["FOR_EACH_VAL", "$PLAYER_I", "$PLAYER_ORDER", [
                    ["PROMPT", "$PLAYER_I", "askForCustomSpawnChoice"],
                    ["VAR", "$INDEX", 0],
                    ["FOR_EACH_VAL", "$LOCATION_NAME", "$LOCATION_NAMES", [
                        ["VAR", "$LETTER", ["SUBSTRING", "123456789", "$INDEX", 1]],
                        ["PROMPT_ADD_OPTION", "$PLAYER_I", "{{$LOCATION_NAME}}.", "{{$LETTER}}", ["LIST", "DO_MAKE_CUSTOM_SPAWN_CHOICE", "{{$PLAYER_I}}", "{{$LOCATION_NAME}}"]],
                        ["INCREASE_VAR", "$INDEX", 1]
                    ]]
                ]]
            ]
        },
        "DO_MAKE_CUSTOM_SPAWN_CHOICE": {
            "args": ["$TARGET_PLAYER", "$LOCATION_CARD_NAME"],
            "code": [
                ["VALIDATE_PLAYER", "$TARGET_PLAYER", "DO_MAKE_CUSTOM_SPAWN_CHOICE.TARGET_PLAYER"],
                ["VALIDATE_NOT_EMPTY", "$LOCATION_CARD_NAME", "DO_MAKE_CUSTOM_SPAWN_CHOICE.LOCATION_CARD_NAME"],
                ["SET", "/playerData/$TARGET_PLAYER/arkham/customSpawnLocation", "$LOCATION_CARD_NAME"],
                ["INCREASE_VAL", "/arkham/customSpawnChoiceDone", 1],
                ["COND",
                    ["GREATER_EQUAL", "$GAME.arkham.customSpawnChoiceDone", "$GAME.numPlayers"],
                    ["ACTION_LIST", "$GAME.arkham.customSpawnChoiceScenarioContinueAction"]
                ]
            ]
        },
        "DO_MAKE_EACH_INVESTIGATOR_LOSE_CLUES": {
            "args": ["$LOG_EVENT", "$ACTOR_PLAYER"],
            "code": [
                ["VALIDATE_BOOLEAN", "$LOG_EVENT", "DO_MAKE_EACH_INVESTIGATOR_LOSE_CLUES.LOG_EVENT"],
                ["FOR_EACH_VAL", "$PLAYER_I", "$PLAYER_ORDER", [
                    ["VAR", "$INVESTIGATOR", ["GET_INVESTIGATOR", "$PLAYER_I"]],
                    ["VAR", "$CLUES", ["GET_CLUES_ON_CARD", "$INVESTIGATOR.id"]],
                    ["COND",
                        ["GREATER_THAN", "$CLUES", 0],
                        ["DO_REMOVE_CLUES_FROM_CARD", "$PLAYER_I", "$INVESTIGATOR.id", "$CLUES", "$LOG_EVENT", "$ACTOR_PLAYER"]
                    ]
                ]]
            ]
        }
    },
    "prompts": {
        "startingPhysicalTrauma": {
            "args": [],
            "message": "State the physical trauma of your investigator.",
            "options": [
            ]
        },
        "startingMentalTrauma": {
            "args": [],
            "message": "State the mental trauma of your investigator.",
            "options": [
            ]
        },
        "chooseScenarioDifficulty": {
            "args": [],
            "message": "Choose {{$GAME.arkham.scenarioName}} difficulty.",
            "options": [
                {
                    "label": "Easy.",
                    "hotkey": "E",
                    "code": [
                        ["SET_SCENARIO_DIFFICULTY", "Easy"]
                    ]
                },
                {
                    "label": "Standard.",
                    "hotkey": "S",
                    "code": [
                        ["SET_SCENARIO_DIFFICULTY", "Standard"]
                    ]
                },
                {
                    "label": "Hard.",
                    "hotkey": "H",
                    "code": [
                        ["SET_SCENARIO_DIFFICULTY", "Hard"]
                    ]
                },
                {
                    "label": "Expert.",
                    "hotkey": "X",
                    "code": [
                        ["SET_SCENARIO_DIFFICULTY", "Expert"]
                    ]
                }
            ]
        },
        "decideAboutMulligan": {
            "args": [],
            "message": "Do you want to take a mulligan? Target cards in hand to mulligan.",
            "options": [
                {
                    "label": "Yes, mulligan targeted cards.",
                    "hotkey": "Y",
                    "code": [
                        ["DRAW_MULLIGAN_HAND", true]
                    ]
                },
                {
                    "label": "No.",
                    "hotkey": "N",
                    "code": [
                        ["DRAW_MULLIGAN_HAND", false]
                    ]
                }
            ]
        },
        "scenarioQuestion": {
            "args": ["$MESSAGE"],
            "message": "{{$MESSAGE}}",
            "options": [
            ]
        },
        "askToPutPlayerDeckCardIntoPlay": {
            "args": ["$TARGET_CARD_ID", "$SCENARIO_ACTION"],
            "message": "Do you want to put {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}} from your deck into play?",
            "options": [
                {
                    "label": "Yes.",
                    "hotkey": "Y",
                    "code": [
                        ["DO_PUT_INTO_PLAY_FROM_PLAYER_DECK_SCN", "$TARGET_CARD_ID"],
                        ["ACTION_LIST", "$SCENARIO_ACTION"]
                    ]
                },
                {
                    "label": "No.",
                    "hotkey": "N",
                    "code": [
                        ["DO_LOG", true, "$PLAYER_N", "$PLAYER_N", "decide not to put {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}} from their deck into play.", "decides not to put {{$CARD_BY_ID.$TARGET_CARD_ID.sides.A.name}} from their deck into play."],
                        ["ACTION_LIST", "$SCENARIO_ACTION"]
                    ]
                }
            ]
        },
        "askForCustomSpawnChoice": {
            "args": [],
            "message": "Where do you want to begin the game?",
            "options": [
            ]
        }
    }
}